var eM=Object.defineProperty,tM=Object.defineProperties;var nM=Object.getOwnPropertyDescriptors;var cw=Object.getOwnPropertySymbols;var rM=Object.prototype.hasOwnProperty,iM=Object.prototype.propertyIsEnumerable;var uw=(n,e,t)=>e in n?eM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||={})rM.call(e,t)&&uw(n,t,e[t]);if(cw)for(var t of cw(e))iM.call(e,t)&&uw(n,t,e[t]);return n},Y=(n,e)=>tM(n,nM(e));var b=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var dp;function hp(){return dp}function Bn(n){let e=dp;return dp=n,e}var oM=Symbol("NotFound"),bu=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function ao(n){return n===oM||n?.name==="\u0275NotFound"}function Mu(n,e){return Object.is(n,e)}var qe=null,Su=!1,fp=1,sM=null,yt=Symbol("SIGNAL");function oe(n){let e=qe;return qe=n,e}function Pu(){return qe}var ii={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function co(n){if(Su)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(n);let e=qe.nextProducerIndex++;if(Fu(qe),e<qe.producerNode.length&&qe.producerNode[e]!==n&&oa(qe)){let t=qe.producerNode[e];Ou(t,qe.producerIndexOfThis[e])}qe.producerNode[e]!==n&&(qe.producerNode[e]=n,qe.producerIndexOfThis[e]=oa(qe)?dw(n,qe,e):0),qe.producerLastReadVersion[e]=n.version}function lw(){fp++}function xu(n){if(!(oa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===fp)){if(!n.producerMustRecompute(n)&&!sa(n)){Nu(n);return}n.producerRecomputeValue(n),Nu(n)}}function pp(n){if(n.liveConsumerNode===void 0)return;let e=Su;Su=!0;try{for(let t of n.liveConsumerNode)t.dirty||aM(t)}finally{Su=e}}function gp(){return qe?.consumerAllowSignalWrites!==!1}function aM(n){n.dirty=!0,pp(n),n.consumerMarkedDirty?.(n)}function Nu(n){n.dirty=!1,n.lastCleanEpoch=fp}function oi(n){return n&&(n.nextProducerIndex=0),oe(n)}function uo(n,e){if(oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(oa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ou(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function sa(n){Fu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xu(t),r!==t.version))return!0}return!1}function ku(n){if(Fu(n),oa(n))for(let e=0;e<n.producerNode.length;e++)Ou(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function dw(n,e,t){if(hw(n),n.liveConsumerNode.length===0&&fw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=dw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ou(n,e){if(hw(n),n.liveConsumerNode.length===1&&fw(n))for(let r=0;r<n.producerNode.length;r++)Ou(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Fu(i),i.producerIndexOfThis[r]=e}}function oa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Fu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function hw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function fw(n){return n.producerNode!==void 0}function Lu(n){sM?.(n)}function Vu(n,e){let t=Object.create(cM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(xu(t),co(t),t.value===ia)throw t.error;return t.value};return r[yt]=t,Lu(t),r}var Au=Symbol("UNSET"),Ru=Symbol("COMPUTING"),ia=Symbol("ERRORED"),cM=Y(x({},ii),{value:Au,dirty:!0,error:null,equal:Mu,kind:"computed",producerMustRecompute(n){return n.value===Au||n.value===Ru},producerRecomputeValue(n){if(n.value===Ru)throw new Error("");let e=n.value;n.value=Ru;let t=oi(n),r,i=!1;try{r=n.computation(),oe(null),i=e!==Au&&e!==ia&&r!==ia&&n.equal(e,r)}catch(o){r=ia,n.error=o}finally{uo(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function uM(){throw new Error}var pw=uM;function gw(n){pw(n)}function mp(n){pw=n}var lM=null;function yp(n,e){let t=Object.create(ju);t.value=n,e!==void 0&&(t.equal=e);let r=()=>mw(t);return r[yt]=t,Lu(t),[r,s=>lo(t,s),s=>vp(t,s)]}function mw(n){return co(n),n.value}function lo(n,e){gp()||gw(n),n.equal(n.value,e)||(n.value=e,dM(n))}function vp(n,e){gp()||gw(n),lo(n,e(n.value))}var ju=Y(x({},ii),{equal:Mu,value:void 0,kind:"signal"});function dM(n){n.version++,lw(),pp(n),lM?.(n)}function Z(n){return typeof n=="function"}function ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Uu=ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function si(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yw(o)}catch(s){e=e??[],s instanceof Uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&si(t,e)}remove(e){let{_finalizers:t}=this;t&&si(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var _p=Pe.EMPTY;function Bu(n){return n instanceof Pe||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function yw(n){Z(n)?n():n.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fo={setTimeout(n,e,...t){let{delegate:r}=fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function $u(n){fo.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(n);else throw n})}function aa(){}var vw=Ep("C",void 0,void 0);function _w(n){return Ep("E",void 0,n)}function Ew(n){return Ep("N",n,void 0)}function Ep(n,e,t){return{kind:n,value:e,error:t}}var ai=null;function po(n){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!ai;if(e&&(ai={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ai;if(ai=null,t)throw r}}else n()}function Iw(n){Zt.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=n)}var ci=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bu(e)&&e.add(this)):this.destination=pM}static create(e,t,r){return new go(e,t,r)}next(e){this.isStopped?wp(Ew(e),this):this._next(e)}error(e){this.isStopped?wp(_w(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wp(vw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hM=Function.prototype.bind;function Ip(n,e){return hM.call(n,e)}var Dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Hu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Hu(r)}else Hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Hu(t)}}},go=class extends ci{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ip(e.next,o),error:e.error&&Ip(e.error,o),complete:e.complete&&Ip(e.complete,o)}):i=e}this.destination=new Dp(i)}};function Hu(n){Zt.useDeprecatedSynchronousErrorHandling?Iw(n):$u(n)}function fM(n){throw n}function wp(n,e){let{onStoppedNotification:t}=Zt;t&&fo.setTimeout(()=>t(n,e))}var pM={closed:!0,next:aa,error:fM,complete:aa};var mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function zu(...n){return Cp(n)}function Cp(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=mM(t)?t:new go(t,r,i);return po(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ww(r),new r((i,o)=>{let s=new go({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[mo](){return this}pipe(...t){return Cp(t)(this)}toPromise(t){return t=ww(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ww(n){var e;return(e=n??Zt.Promise)!==null&&e!==void 0?e:Promise}function gM(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function mM(n){return n&&n instanceof ci||gM(n)&&Bu(n)}function Tp(n){return Z(n?.lift)}function de(n){return e=>{if(Tp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new bp(n,e,t,r,i)}var bp=class extends ci{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yo(){return de((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vo=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Tp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return yo()(this)}};var Dw=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new qu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Dw}next(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_p:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,si(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new qu(e,t),n})(),qu=class extends xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_p}};var it=class extends xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sp={now(){return(Sp.delegate||Date).now()},delegate:void 0};var Gu=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _o=class extends Gu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Eo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Eo.now=Sp.now;var Io=class extends Eo{constructor(e,t=Eo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ap=new Io(_o);var Wu=class extends _o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ku=class extends Io{};var Rp=new Ku(Wu);var Ct=new J(n=>n.complete());function Cw(n){return n&&Z(n.schedule)}function Tw(n){return n[n.length-1]}function Qu(n){return Z(Tw(n))?n.pop():void 0}function yr(n){return Cw(Tw(n))?n.pop():void 0}function Np(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Sw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function bw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ui(n){return this instanceof ui?(this.v=n,this):new ui(n)}function Aw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function c(y,A){r[y]&&(i[y]=function(P){return new Promise(function(N,F){o.push([y,P,N,F])>1||u(y,P)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof ui?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Rw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bw=="function"?bw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Yu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zu(n){return Z(n?.then)}function Ju(n){return Z(n[mo])}function Xu(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function el(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tl=yM();function nl(n){return Z(n?.[tl])}function rl(n){return Aw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ui(t.read());if(i)return yield ui(void 0);yield yield ui(r)}}finally{t.releaseLock()}})}function il(n){return Z(n?.getReader)}function je(n){if(n instanceof J)return n;if(n!=null){if(Ju(n))return vM(n);if(Yu(n))return _M(n);if(Zu(n))return EM(n);if(Xu(n))return Nw(n);if(nl(n))return IM(n);if(il(n))return wM(n)}throw el(n)}function vM(n){return new J(e=>{let t=n[mo]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _M(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function EM(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,$u)})}function IM(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Nw(n){return new J(e=>{DM(n,e).catch(t=>e.error(t))})}function wM(n){return Nw(rl(n))}function DM(n,e){var t,r,i,o;return Sw(this,void 0,void 0,function*(){try{for(t=Rw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Tt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function vr(n,e=0){return de((t,r)=>{t.subscribe(ue(r,i=>Tt(r,n,()=>r.next(i),e),()=>Tt(r,n,()=>r.complete(),e),i=>Tt(r,n,()=>r.error(i),e)))})}function _r(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Mw(n,e){return je(n).pipe(_r(e),vr(e))}function Pw(n,e){return je(n).pipe(_r(e),vr(e))}function xw(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function kw(n,e){return new J(t=>{let r;return Tt(t,e,()=>{r=n[tl](),Tt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function ol(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{Tt(t,e,()=>{let r=n[Symbol.asyncIterator]();Tt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ow(n,e){return ol(rl(n),e)}function Fw(n,e){if(n!=null){if(Ju(n))return Mw(n,e);if(Yu(n))return xw(n,e);if(Zu(n))return Pw(n,e);if(Xu(n))return ol(n,e);if(nl(n))return kw(n,e);if(il(n))return Ow(n,e)}throw el(n)}function Ce(n,e){return e?Fw(n,e):je(n)}function z(...n){let e=yr(n);return Ce(n,e)}function wo(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}function Mp(n){return!!n&&(n instanceof J||Z(n.lift)&&Z(n.subscribe))}var $n=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function se(n,e){return de((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:CM}=Array;function TM(n,e){return CM(e)?n(...e):n(e)}function sl(n){return se(e=>TM(n,e))}var{isArray:bM}=Array,{getPrototypeOf:SM,prototype:AM,keys:RM}=Object;function al(n){if(n.length===1){let e=n[0];if(bM(e))return{args:e,keys:null};if(NM(e)){let t=RM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function NM(n){return n&&typeof n=="object"&&SM(n)===AM}function cl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ua(...n){let e=yr(n),t=Qu(n),{args:r,keys:i}=al(n);if(r.length===0)return Ce([],e);let o=new J(MM(r,e,i?s=>cl(i,s):Nt));return t?o.pipe(sl(t)):o}function MM(n,e,t=Nt){return r=>{Lw(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Lw(e,()=>{let l=Ce(n[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Lw(n,e,t){n?Tt(t,n,e):e()}function Vw(n,e,t,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let N=!1;je(t(P,h++)).subscribe(ue(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let F=u.shift();s?Tt(e,s,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{c?.()}}function ke(n,e,t=1/0){return Z(e)?ke((r,i)=>se((o,s)=>e(r,o,i,s))(je(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>Vw(r,i,n,t)))}function Er(n=1/0){return ke(Nt,n)}function jw(){return Er(1)}function Do(...n){return jw()(Ce(n,yr(n)))}function la(n){return new J(e=>{je(n()).subscribe(e)})}function Pp(...n){let e=Qu(n),{args:t,keys:r}=al(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;je(t[h]).subscribe(ue(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?cl(r,c):c),o.complete())}))}});return e?i.pipe(sl(e)):i}function vt(n,e){return de((t,r)=>{let i=0;t.subscribe(ue(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Hn(n){return de((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ue(t,void 0,void 0,s=>{o=je(n(s,Hn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Uw(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=c?n(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Ir(n,e){return Z(e)?ke(n,e,1):ke(n,1)}function wr(n){return de((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zn(n){return n<=0?()=>Ct:de((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ul(n=PM){return de((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function PM(){return new $n}function da(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Nt,zn(1),t?wr(e):ul(()=>new $n))}function Co(n){return n<=0?()=>Ct:de((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?vt((i,o)=>n(i,o,r)):Nt,Co(1),t?wr(e):ul(()=>new $n))}function ll(n,e){return de(Uw(n,e,arguments.length>=2,!0))}function dl(...n){let e=yr(n);return de((t,r)=>{(e?Do(n,t,e):Do(n,t)).subscribe(r)})}function Mt(n,e){return de((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;je(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function hl(n){return de((e,t)=>{je(n).subscribe(ue(t,()=>t.complete(),aa)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}function Bw(n){let e=oe(null);try{return n()}finally{oe(e)}}var yl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(ga(e,t)),this.code=e}};function xM(n){return`NG0${Math.abs(n)}`}function ga(n,e){return`${xM(n)}${e?": "+e:""}`}var ma=globalThis;function Se(n){for(let e in n)if(n[e]===Se)return e;throw Error("")}function qw(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(bt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Gp(n,e){return n?e?`${n} ${e}`:n:e||""}var kM=Se({__forward_ref__:Se});function Cr(n){return n.__forward_ref__=Cr,n.toString=function(){return bt(this())},n}function ot(n){return Wp(n)?n():n}function Wp(n){return typeof n=="function"&&n.hasOwnProperty(kM)&&n.__forward_ref__===Cr}function Gw(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function ya(n){return OM(n,vl)}function Kp(n){return ya(n)!==null}function OM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function FM(n){let e=n?.[vl]??null;return e||null}function Op(n){return n&&n.hasOwnProperty(pl)?n[pl]:null}var vl=Se({\u0275prov:Se}),pl=Se({\u0275inj:Se}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qp(n){return n&&!!n.\u0275providers}var Yp=Se({\u0275cmp:Se}),Zp=Se({\u0275dir:Se}),Jp=Se({\u0275pipe:Se}),Xp=Se({\u0275mod:Se}),fa=Se({\u0275fac:Se}),gi=Se({__NG_ELEMENT_ID__:Se}),$w=Se({__NG_ENV_ID__:Se});function va(n){return typeof n=="string"?n:n==null?"":String(n)}function Ww(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():va(n)}function eg(n,e){throw new V(-200,n)}function _l(n,e){throw new V(-201,!1)}var Fp;function Kw(){return Fp}function Pt(n){let e=Fp;return Fp=n,e}function tg(n,e,t){let r=ya(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;_l(n,"Injector")}var LM={},li=LM,Lp="__NG_DI_FLAG__",Vp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=di(t)||0;try{return this.injector.get(e,r&8?null:li,r)}catch(i){if(ao(i))return i;throw i}}},gl="ngTempTokenPath",VM="ngTokenPath",jM=/\n/gm,UM="\u0275",Hw="__source";function BM(n,e=0){let t=hp();if(t===void 0)throw new V(-203,!1);if(t===null)return tg(n,void 0,e);{let r=$M(e),i=t.retrieve(n,r);if(ao(i)){if(r.optional)return null;throw i}return i}}function q(n,e=0){return(Kw()||BM)(ot(n),e)}function R(n,e){return q(n,di(e))}function di(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $M(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function jp(n){let e=[];for(let t=0;t<n.length;t++){let r=ot(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=HM(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(q(i,o))}else e.push(q(r))}return e}function ng(n,e){return n[Lp]=e,n.prototype[Lp]=e,n}function HM(n){return n[Lp]}function zM(n,e,t,r){let i=n[gl];throw e[Hw]&&i.unshift(e[Hw]),n.message=qM(`
`+n.message,i,t,r),n[VM]=i,n[gl]=null,n}function qM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==UM?n.slice(2):n;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):bt(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jM,`
  `)}`}function hi(n,e){let t=n.hasOwnProperty(fa);return t?n[fa]:null}function Qw(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Yw(n){return n.flat(Number.POSITIVE_INFINITY)}function El(n,e){n.forEach(t=>Array.isArray(t)?El(t,e):e(t))}function rg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function _a(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Zw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Jw(n,e,t){let r=bo(n,e);return r>=0?n[r|1]=t:(r=~r,Zw(n,r,e,t)),r}function Il(n,e){let t=bo(n,e);if(t>=0)return n[t|1]}function bo(n,e){return GM(n,e,1)}function GM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Tr={},xt=[],br=new U(""),ig=new U("",-1),og=new U(""),pa=class{get(e,t=li){if(t===li)throw new bu(`NullInjectorError: No provider for ${bt(e)}!`);return t}};function sg(n){return n[Xp]||null}function Kn(n){return n[Yp]||null}function ag(n){return n[Zp]||null}function Xw(n){return n[Jp]||null}function Qn(n){return{\u0275providers:n}}function eD(...n){return{\u0275providers:cg(!0,n),\u0275fromNgModule:!0}}function cg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return El(e,s=>{let c=s;ml(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&tD(i,o),t}function tD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ug(i,o=>{e(o,r)})}}function ml(n,e,t,r){if(n=ot(n),!n)return!1;let i=null,o=Op(n),s=!o&&Kn(n);if(!o&&!s){let u=n.ngModule;if(o=Op(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ml(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{El(o.imports,h=>{ml(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&tD(l,e)}if(!c){let l=hi(i)||(()=>new i);e({provide:i,useFactory:l,deps:xt},i),e({provide:og,useValue:i,multi:!0},i),e({provide:br,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;ug(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ug(n,e){for(let t of n)Qp(t)&&(t=t.\u0275providers),Array.isArray(t)?ug(t,e):e(t)}var WM=Se({provide:String,useValue:Se});function nD(n){return n!==null&&typeof n=="object"&&WM in n}function KM(n){return!!(n&&n.useExisting)}function QM(n){return!!(n&&n.useFactory)}function fi(n){return typeof n=="function"}function rD(n){return!!n.useClass}var Ea=new U(""),fl={},zw={},kp;function Ia(){return kp===void 0&&(kp=new pa),kp}var Oe=class{},pi=class extends Oe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Bp(e,s=>this.processProvider(s)),this.records.set(ig,To(void 0,this)),i.has("environment")&&this.records.set(Oe,To(void 0,this));let o=this.records.get(Ea);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(og,xt,{self:!0}))}retrieve(e,t){let r=di(t)||0;try{return this.get(e,li,r)}catch(i){if(ao(i))return i;throw i}}destroy(){ha(this),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return ha(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ha(this);let t=Bn(this),r=Pt(void 0),i;try{return e()}finally{Bn(t),Pt(r)}}get(e,t=li,r){if(ha(this),e.hasOwnProperty($w))return e[$w](this);let i=di(r),o,s=Bn(this),c=Pt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=eP(e)&&ya(e);h&&this.injectableDefInScope(h)?l=To(Up(e),fl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?Ia():this.parent;return t=i&8&&t===li?null:t,u.get(e,t)}catch(u){if(ao(u)){if((u[gl]=u[gl]||[]).unshift(bt(e)),s)throw u;return zM(u,e,"R3InjectorError",this.source)}else throw u}finally{Pt(c),Bn(s)}}resolveInjectorInitializers(){let e=oe(null),t=Bn(this),r=Pt(void 0),i;try{let o=this.get(br,xt,{self:!0});for(let s of o)s()}finally{Bn(t),Pt(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ot(e);let t=fi(e)?e:ot(e&&e.provide),r=ZM(e);if(!fi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=To(void 0,fl,!0),i.factory=()=>jp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=oe(null);try{return t.value===zw?eg(bt(e)):t.value===fl&&(t.value=zw,t.value=t.factory()),typeof t.value=="object"&&t.value&&XM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ot(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Up(n){let e=ya(n),t=e!==null?e.factory:hi(n);if(t!==null)return t;if(n instanceof U)throw new V(204,!1);if(n instanceof Function)return YM(n);throw new V(204,!1)}function YM(n){if(n.length>0)throw new V(204,!1);let t=FM(n);return t!==null?()=>t.factory(n):()=>new n}function ZM(n){if(nD(n))return To(void 0,n.useValue);{let e=lg(n);return To(e,fl)}}function lg(n,e,t){let r;if(fi(n)){let i=ot(n);return hi(i)||Up(i)}else if(nD(n))r=()=>ot(n.useValue);else if(QM(n))r=()=>n.useFactory(...jp(n.deps||[]));else if(KM(n))r=()=>q(ot(n.useExisting));else{let i=ot(n&&(n.useClass||n.provide));if(JM(n))r=()=>new i(...jp(n.deps));else return hi(i)||Up(i)}return r}function ha(n){if(n.destroyed)throw new V(205,!1)}function To(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function JM(n){return!!n.deps}function XM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function eP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Bp(n,e){for(let t of n)Array.isArray(t)?Bp(t,e):t&&Qp(t)?Bp(t.\u0275providers,e):e(t)}function Je(n,e){let t;n instanceof pi?(ha(n),t=n):t=new Vp(n);let r,i=Bn(t),o=Pt(void 0);try{return e()}finally{Bn(i),Pt(o)}}function dg(){return Kw()!==void 0||hp()!=null}function hg(n){if(!dg())throw new V(-203,!1)}var en=0,ne=1,W=2,Ze=3,Ut=4,Bt=5,wa=6,So=7,_t=8,mi=9,gn=10,Ge=11,Ao=12,fg=13,yi=14,$t=15,Sr=16,vi=17,mn=18,Da=19,pg=20,Gn=21,wl=22,Ca=23,kt=24,_i=25,tn=26,iD=1;var Ar=7,Ta=8,Ei=9,Et=10;function yn(n){return Array.isArray(n)&&typeof n[iD]=="object"}function nn(n){return Array.isArray(n)&&n[iD]===!0}function gg(n){return(n.flags&4)!==0}function Rr(n){return n.componentOffset>-1}function Dl(n){return(n.flags&1)===1}function vn(n){return!!n.template}function Ro(n){return(n[W]&512)!==0}function Ii(n){return(n[W]&256)===256}var oD="svg",sD="math";function Ht(n){for(;Array.isArray(n);)n=n[en];return n}function mg(n,e){return Ht(e[n])}function rn(n,e){return Ht(e[n.index])}function Cl(n,e){return n.data[e]}function zt(n,e){let t=e[n];return yn(t)?t:t[en]}function aD(n){return(n[W]&4)===4}function Tl(n){return(n[W]&128)===128}function cD(n){return nn(n[Ze])}function ba(n,e){return e==null?null:n[e]}function yg(n){n[vi]=0}function vg(n){n[W]&1024||(n[W]|=1024,Tl(n)&&No(n))}function uD(n,e){for(;n>0;)e=e[yi],n--;return e}function Sa(n){return!!(n[W]&9216||n[kt]?.dirty)}function bl(n){n[gn].changeDetectionScheduler?.notify(8),n[W]&64&&(n[W]|=1024),Sa(n)&&No(n)}function No(n){n[gn].changeDetectionScheduler?.notify(0);let e=Dr(n);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Tl(e)));)e=Dr(e)}function _g(n,e){if(Ii(n))throw new V(911,!1);n[Gn]===null&&(n[Gn]=[]),n[Gn].push(e)}function lD(n,e){if(n[Gn]===null)return;let t=n[Gn].indexOf(e);t!==-1&&n[Gn].splice(t,1)}function Dr(n){let e=n[Ze];return nn(e)?e[Ze]:e}function Eg(n){return n[So]??=[]}function Ig(n){return n.cleanup??=[]}function dD(n,e,t,r){let i=Eg(e);i.push(t),n.firstCreatePass&&Ig(n).push(r,i.length-1)}var le={lFrame:SD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Aa=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}(Aa||{}),tP=0,$p=!1;function hD(){return le.lFrame.elementDepthCount}function fD(){le.lFrame.elementDepthCount++}function pD(){le.lFrame.elementDepthCount--}function wg(){return le.bindingsEnabled}function gD(){return le.skipHydrationRootTNode!==null}function mD(n){return le.skipHydrationRootTNode===n}function yD(){le.skipHydrationRootTNode=null}function De(){return le.lFrame.lView}function St(){return le.lFrame.tView}function lt(){let n=Dg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Dg(){return le.lFrame.currentTNode}function vD(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Mo(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Cg(){return le.lFrame.isParent}function _D(){le.lFrame.isParent=!1}function Tg(n){Gw("Must never be called in production mode"),tP=n}function bg(){return $p}function Sg(n){let e=$p;return $p=n,e}function ED(n){return le.lFrame.bindingIndex=n}function Sl(){return le.lFrame.bindingIndex++}function ID(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function wD(){return le.lFrame.inI18n}function DD(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Al(e)}function CD(){return le.lFrame.currentDirectiveIndex}function Al(n){le.lFrame.currentDirectiveIndex=n}function TD(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ag(){return le.lFrame.currentQueryIndex}function Rl(n){le.lFrame.currentQueryIndex=n}function nP(n){let e=n[ne];return e.type===2?e.declTNode:e.type===1?n[Bt]:null}function Rg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=nP(o),i===null||(o=o[yi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=bD();return r.currentTNode=e,r.lView=n,!0}function Nl(n){let e=bD(),t=n[ne];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bD(){let n=le.lFrame,e=n===null?null:n.child;return e===null?SD(n):e}function SD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function AD(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ng=AD;function Ml(){let n=AD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function RD(n){return(le.lFrame.contextLView=uD(n,le.lFrame.contextLView))[_t]}function wi(){return le.lFrame.selectedIndex}function Nr(n){le.lFrame.selectedIndex=n}function Mg(){let n=le.lFrame;return Cl(n.tView,n.selectedIndex)}function ND(){return le.lFrame.currentNamespace}var MD=!0;function Pl(){return MD}function xl(n){MD=n}function Hp(n,e=null,t=null,r){let i=Pg(n,e,t,r);return i.resolveInjectorInitializers(),i}function Pg(n,e=null,t=null,r,i=new Set){let o=[t||xt,eD(n)];return r=r||(typeof n=="object"?void 0:bt(n)),new pi(o,e||Ia(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=li;static NULL=new pa;static create(e,t){if(Array.isArray(e))return Hp({name:""},t,e,"");{let r=e.name??"";return Hp({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>q(ig)});static __NG_ELEMENT_ID__=-1},Be=new U(""),Mr=(()=>{class n{static __NG_ELEMENT_ID__=rP;static __NG_ENV_ID__=t=>t}return n})(),zp=class extends Mr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ii(this._lView)}onDestroy(e){let t=this._lView;return _g(t,e),()=>lD(t,e)}};function rP(){return new zp(De())}var Jt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},At=new U("",{providedIn:"root",factory:()=>{let n=R(Oe),e;return t=>{e??=n.get(Jt),e.handleError(t)}}}),PD={provide:br,useValue:()=>void R(Jt),multi:!0};function _n(n,e){let[t,r,i]=yp(n,e?.equal),o=t,s=o[yt];return o.set=r,o.update=i,o.asReadonly=xD.bind(o),o}function xD(){let n=this[yt];if(n.readonlyFn===void 0){let e=()=>this();e[yt]=n,n.readonlyFn=e}return n.readonlyFn}var Wn=class{},kl=new U("",{providedIn:"root",factory:()=>!1});var xg=new U(""),kg=new U("");var Ol=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=iP}return n})();function iP(){return new Ol(De(),lt())}var Yn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Po=(()=>{class n{internalPendingTasks=R(Yn);scheduler=R(Wn);errorHandler=R(At);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ra(...n){}var Og=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new qp})}return n})(),qp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Fo(n){return{toString:n}.toString()}var Fl="__parameters__";function mP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function dC(n,e,t){return Fo(()=>{let r=mP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Fl)?u[Fl]:Object.defineProperty(u,Fl,{value:[]})[Fl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var wn=ng(dC("Optional"),8);var hC=ng(dC("SkipSelf"),4);function yP(n){return typeof n=="function"}var Hl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function fC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Dn=(()=>{let n=()=>pC;return n.ngInherit=!0,n})();function pC(n){return n.type.prototype.ngOnChanges&&(n.setInput=_P),vP}function vP(){let n=mC(this),e=n?.current;if(e){let t=n.previous;if(t===Tr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function _P(n,e,t,r,i){let o=this.declaredInputs[r],s=mC(n)||EP(n,{previous:Tr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Hl(l&&l.currentValue,t,u===Tr),fC(n,e,i,t)}var gC="__ngSimpleChanges__";function mC(n){return n[gC]||null}function EP(n,e){return n[gC]=e}var kD=[];var _e=function(n,e=null,t){for(let r=0;r<kD.length;r++){let i=kD[r];i(n,e,t)}};function IP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=pC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function yC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function jl(n,e,t){vC(n,e,3,t)}function Ul(n,e,t,r){(n[W]&3)===t&&vC(n,e,t,r)}function Fg(n,e){let t=n[W];(t&3)===e&&(t&=16383,t+=1,n[W]=t)}function vC(n,e,t,r){let i=r!==void 0?n[vi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[vi]+=65536),(c<o||o==-1)&&(wP(n,t,e,u),n[vi]=(n[vi]&4294901760)+u+2),u++}function OD(n,e){_e(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),_e(5,n,e)}}function wP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[W]>>14<n[vi]>>16&&(n[W]&3)===e&&(n[W]+=16384,OD(c,o)):OD(c,o)}var ko=-1,Ci=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function DP(n){return(n.flags&8)!==0}function CP(n){return(n.flags&16)!==0}function TP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];bP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function _C(n){return n===3||n===4||n===6}function bP(n){return n.charCodeAt(0)===64}function Pa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?FD(n,t,i,null,e[++r]):FD(n,t,i,null,null))}}return n}function FD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function EC(n){return n!==ko}function zl(n){return n&32767}function SP(n){return n>>16}function ql(n,e){let t=SP(n),r=e;for(;t>0;)r=r[yi],t--;return r}var Gg=!0;function LD(n){let e=Gg;return Gg=n,e}var AP=256,IC=AP-1,wC=5,RP=0,En={};function NP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(gi)&&(r=t[gi]),r==null&&(r=t[gi]=RP++);let i=r&IC,o=1<<i;e.data[n+(i>>wC)]|=o}function Gl(n,e){let t=DC(n,e);if(t!==-1)return t;let r=e[ne];r.firstCreatePass&&(n.injectorIndex=e.length,Lg(r.data,n),Lg(e,null),Lg(r.blueprint,null));let i=ym(n,e),o=n.injectorIndex;if(EC(i)){let s=zl(i),c=ql(i,e),u=c[ne].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Lg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function DC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ym(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=AC(i),r===null)return ko;if(t++,i=i[yi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ko}function Wg(n,e,t){NP(n,e,t)}function MP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(_C(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function CC(n,e,t){if(t&8||n!==void 0)return n;_l(e,"NodeInjector")}function TC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[mi],o=Pt(void 0);try{return i?i.get(e,r,t&8):tg(e,r,t&8)}finally{Pt(o)}}return CC(r,e,t)}function bC(n,e,t,r=0,i){if(n!==null){if(e[W]&2048&&!(r&2)){let s=OP(n,e,t,r,En);if(s!==En)return s}let o=SC(n,e,t,r,En);if(o!==En)return o}return TC(e,t,r,i)}function SC(n,e,t,r,i){let o=xP(t);if(typeof o=="function"){if(!Rg(e,n,r))return r&1?CC(i,t,r):TC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))_l(t);else return s}finally{Ng()}}else if(typeof o=="number"){let s=null,c=DC(n,e),u=ko,l=r&1?e[$t][Bt]:null;for((c===-1||r&4)&&(u=c===-1?ym(n,e):e[c+8],u===ko||!jD(r,!1)?c=-1:(s=e[ne],c=zl(u),e=ql(u,e)));c!==-1;){let h=e[ne];if(VD(o,c,h.data)){let p=PP(c,e,t,s,r,l);if(p!==En)return p}u=e[c+8],u!==ko&&jD(r,e[ne].data[c+8]===l)&&VD(o,c,e)?(s=h,c=zl(u),e=ql(u,e)):c=-1}}return i}function PP(n,e,t,r,i,o){let s=e[ne],c=s.data[n+8],u=r==null?Rr(c)&&Gg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=Bl(c,s,t,u,l);return h!==null?xa(e,s,h,c):En}function Bl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&vn(y)&&y.type===t)return u}return null}function xa(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Ci){let s=i;s.resolving&&eg(Ww(o[t]));let c=LD(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?Pt(s.injectImpl):null,p=Rg(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&IP(t,o[t],e)}finally{h!==null&&Pt(h),LD(c),s.resolving=!1,Ng()}}return i}function xP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(gi)?n[gi]:void 0;return typeof e=="number"?e>=0?e&IC:kP:e}function VD(n,e,t){let r=1<<n;return!!(t[e+(n>>wC)]&r)}function jD(n,e){return!(n&2)&&!(n&1&&e)}var Di=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return bC(this._tNode,this._lView,e,di(r),t)}};function kP(){return new Di(lt(),De())}function Lo(n){return Fo(()=>{let e=n.prototype.constructor,t=e[fa]||Kg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[fa]||Kg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Kg(n){return Wp(n)?()=>{let e=Kg(ot(n));return e&&e()}:hi(n)}function OP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!Ro(s);){let c=SC(o,s,t,r|2,En);if(c!==En)return c;let u=o.parent;if(!u){let l=s[pg];if(l){let h=l.get(t,En,r);if(h!==En)return h}u=AC(s),s=s[yi]}o=u}return i}function AC(n){let e=n[ne],t=e.type;return t===2?e.declTNode:t===1?n[Bt]:null}function La(n){return MP(lt(),n)}function FP(){return Vo(lt(),De())}function Vo(n,e){return new Ot(rn(n,e))}var Ot=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=FP}return n})();function LP(n){return n instanceof Ot?n.nativeElement:n}function VP(){return this._results[Symbol.iterator]()}var Wl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Yw(e);(this._changesDetected=!Qw(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=VP};function RC(n){return(n.flags&128)===128}var vm=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vm||{}),NC=new Map,jP=0;function UP(){return jP++}function BP(n){NC.set(n[Da],n)}function Qg(n){NC.delete(n[Da])}var UD="__ngContext__";function Va(n,e){yn(e)?(n[UD]=e[Da],BP(e)):n[UD]=e}function MC(n){return xC(n[Ao])}function PC(n){return xC(n[Ut])}function xC(n){for(;n!==null&&!nn(n);)n=n[Ut];return n}var Yg;function _m(n){Yg=n}function kC(){if(Yg!==void 0)return Yg;if(typeof document<"u")return document;throw new V(210,!1)}var od=new U("",{providedIn:"root",factory:()=>$P}),$P="ng",sd=new U(""),kr=new U("",{providedIn:"platform",factory:()=>"unknown"});var ad=new U("",{providedIn:"root",factory:()=>kC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HP="h",zP="b";var OC=!1,FC=new U("",{providedIn:"root",factory:()=>OC});var qP=(n,e,t,r)=>{};function GP(n,e,t,r){qP(n,e,t,r)}var WP=()=>null;function LC(n,e,t=!1){return WP(n,e,t)}function VC(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Rl(o),c.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function Zg(n,e,t){Rl(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function jC(n,e,t){if(gg(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{oe(r)}}}var Zn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zn||{});var Ll;function KP(){if(Ll===void 0&&(Ll=null,ma.trustedTypes))try{Ll=ma.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ll}function BD(n){return KP()?.createScriptURL(n)||n}var Kl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yl})`}};function ja(n){return n instanceof Kl?n.changingThisBreaksApplicationSecurity:n}function Em(n,e){let t=UC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${yl})`)}return t===e}function UC(n){return n instanceof Kl&&n.getTypeName()||null}var QP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function BC(n){return n=String(n),n.match(QP)?n:"unsafe:"+n}var cd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(cd||{});function Ua(n){let e=HC();return e?e.sanitize(cd.URL,n)||"":Em(n,"URL")?ja(n):BC(va(n))}function $C(n){let e=HC();if(e)return BD(e.sanitize(cd.RESOURCE_URL,n)||"");if(Em(n,"ResourceURL"))return BD(ja(n));throw new V(904,!1)}function YP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?$C:Ua}function Im(n,e,t){return YP(e,t)(n)}function HC(){let n=De();return n&&n[gn].sanitizer}function zC(n){return n instanceof Function?n():n}function ZP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var qC="ng-template";function JP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(wm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function wm(n){return n.type===4&&n.value!==qC}function XP(n,e,t){let r=n.type===4&&!t?qC:n.value;return e===r}function ex(n,e,t){let r=4,i=n.attrs,o=i!==null?rx(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!XP(n,u,t)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!JP(n,i,u,t)){if(on(r))return!1;s=!0}}else{let l=e[++c],h=tx(u,i,wm(n),t);if(h===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(n){return(n&1)===0}function tx(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ix(e,n)}function nx(n,e,t=!1){for(let r=0;r<e.length;r++)if(ex(n,e[r],t))return!0;return!1}function rx(n){for(let e=0;e<n.length;e++){let t=n[e];if(_C(t))return e}return n.length}function ix(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $D(n,e){return n?":not("+e.trim()+")":e}function ox(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=$D(o,i),i=""),r=s,o=o||!on(r);t++}return i!==""&&(e+=$D(o,i)),e}function sx(n){return n.map(ox).join(",")}function ax(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!on(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Or={};function cx(n,e){return n.createText(e)}function ux(n,e,t){n.setValue(e,t)}function GC(n,e,t){return n.createElement(e,t)}function Ql(n,e,t,r,i){n.insertBefore(e,t,r,i)}function WC(n,e,t){n.appendChild(e,t)}function HD(n,e,t,r,i){r!==null?Ql(n,e,t,r,i):WC(n,e,t)}function lx(n,e,t){n.removeChild(null,e,t)}function dx(n,e,t){n.setAttribute(e,"style",t)}function hx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function KC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&TP(n,e,r),i!==null&&hx(n,e,i),o!==null&&dx(n,e,o)}function Dm(n,e,t,r,i,o,s,c,u,l,h){let p=tn+r,m=p+i,y=fx(p,m),A=typeof l=="function"?l():l;return y[ne]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function fx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Or);return t}function px(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Dm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Cm(n,e,t,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[en]=i,p[W]=r|4|128|8|64|1024,(l!==null||n&&n[W]&2048)&&(p[W]|=2048),yg(p),p[Ze]=p[yi]=n,p[_t]=t,p[gn]=s||n&&n[gn],p[Ge]=c||n&&n[Ge],p[mi]=u||n&&n[mi]||null,p[Bt]=o,p[Da]=UP(),p[wa]=h,p[pg]=l,p[$t]=e.type==2?n[$t]:p,p}function gx(n,e,t){let r=rn(e,n),i=px(t),o=n[gn].rendererFactory,s=Tm(n,Cm(n,i,null,QC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function QC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function YC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Tm(n,e){return n[Ao]?n[fg][Ut]=e:n[Ao]=e,n[fg]=e,e}function Ae(n=1){ZC(St(),De(),wi()+n,!1)}function ZC(n,e,t,r){if(!r)if((e[W]&3)===3){let o=n.preOrderCheckHooks;o!==null&&jl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ul(e,o,0,t)}Nr(t)}var ud=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ud||{});function Jg(n,e,t,r){let i=oe(null);try{let[o,s,c]=n.inputs[t],u=null;(s&ud.SignalBased)!==0&&(u=e[o][yt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):fC(e,u,o,r)}finally{oe(i)}}function JC(n,e,t,r,i){let o=wi(),s=r&2;try{Nr(-1),s&&e.length>tn&&ZC(n,e,tn,!1),_e(s?2:0,i,t),t(r,i)}finally{Nr(o),_e(s?3:1,i,t)}}function bm(n,e,t){Dx(n,e,t),(t.flags&64)===64&&Cx(n,e,t)}function XC(n,e,t=rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function mx(n,e,t,r){let o=r.get(FC,OC)||t===Zn.ShadowDom,s=n.selectRootElement(e,o);return yx(s),s}function yx(n){vx(n)}var vx=()=>null;function _x(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ex(n,e,t,r,i,o){let s=e[ne];if(Sm(n,s,e,t,r)){Rr(n)&&wx(e,n.index);return}Ix(n,e,t,r,i,o)}function Ix(n,e,t,r,i,o){if(n.type&3){let s=rn(n,e);t=_x(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function wx(n,e){let t=zt(e,n);t[W]&16||(t[W]|=64)}function Dx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Rr(t)&&gx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Gl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=xa(e,n,s,t);if(Va(u,e),o!==null&&Ax(e,s-r,u,c,t,o),vn(c)){let l=zt(t.index,e);l[_t]=xa(e,n,s,t)}}}function Cx(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=CD();try{Nr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Al(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Tx(u,l)}}finally{Nr(-1),Al(s)}}function Tx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function eT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];nx(e,o.selectors,!1)&&(r??=[],vn(o)?r.unshift(o):r.push(o))}return r}function bx(n,e,t,r,i,o){let s=rn(n,e);Sx(e[Ge],s,o,n.value,t,r,i)}function Sx(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?va(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function Ax(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Jg(r,t,u,l)}}function Rx(n,e){let t=n[mi];if(!t)return;t.get(At,null)?.(e)}function Sm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Jg(p,t[l],h,i),c=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Jg(h,l,r,i),c=!0}return c}function Nx(n,e){let t=zt(e,n),r=t[ne];Mx(r,t);let i=t[en];i!==null&&t[wa]===null&&(t[wa]=LC(i,t[mi])),_e(18),Am(r,t,t[_t]),_e(19,t[_t])}function Mx(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Am(n,e,t){Nl(e);try{let r=n.viewQuery;r!==null&&Zg(1,r,t);let i=n.template;i!==null&&JC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[mn]?.finishViewCreation(n),n.staticContentQueries&&VC(n,e),n.staticViewQueries&&Zg(2,n.viewQuery,t);let o=n.components;o!==null&&Px(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[W]&=-5,Ml()}}function Px(n,e){for(let t=0;t<e.length;t++)Nx(n,e[t])}function xx(n,e,t,r){let i=oe(null);try{let o=e.tView,c=n[W]&4096?4096:16,u=Cm(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Sr]=l;let h=n[mn];return h!==null&&(u[mn]=h.createEmbeddedView(o)),Am(o,u,t),u}finally{oe(i)}}function zD(n,e){return!e||e.firstChild===null||RC(n)}var qD=!1,kx=new U(""),Ox;function Rm(n,e){return Ox(n,e)}var In=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(In||{});function Nm(n){return(n.flags&32)===32}function xo(n,e,t,r,i){if(r!=null){let o,s=!1;nn(r)?o=r:yn(r)&&(s=!0,r=r[en]);let c=Ht(r);n===0&&t!==null?i==null?WC(e,t,c):Ql(e,t,c,i||null,!0):n===1&&t!==null?Ql(e,t,c,i||null,!0):n===2?lx(e,c,s):n===3&&e.destroyNode(c),o!=null&&Wx(e,n,o,t,i)}}function Fx(n,e){tT(n,e),e[en]=null,e[Bt]=null}function Lx(n,e,t,r,i,o){r[en]=i,r[Bt]=e,ld(n,r,t,1,i,o)}function tT(n,e){e[gn].changeDetectionScheduler?.notify(9),ld(n,e,e[Ge],2,null,null)}function Vx(n){let e=n[Ao];if(!e)return Vg(n[ne],n);for(;e;){let t=null;if(yn(e))t=e[Ao];else{let r=e[Et];r&&(t=r)}if(!t){for(;e&&!e[Ut]&&e!==n;)yn(e)&&Vg(e[ne],e),e=e[Ze];e===null&&(e=n),yn(e)&&Vg(e[ne],e),t=e&&e[Ut]}e=t}}function Mm(n,e){let t=n[Ei],r=t.indexOf(e);t.splice(r,1)}function nT(n,e){if(Ii(e))return;let t=e[Ge];t.destroyNode&&ld(n,e,t,3,null,null),Vx(e)}function Vg(n,e){if(Ii(e))return;let t=oe(null);try{e[W]&=-129,e[W]|=256,e[kt]&&ku(e[kt]),Ux(n,e),jx(n,e),e[ne].type===1&&e[Ge].destroy();let r=e[Sr];if(r!==null&&nn(e[Ze])){r!==e[Ze]&&Mm(r,e);let i=e[mn];i!==null&&i.detachView(n)}Qg(e)}finally{oe(t)}}function jx(n,e){let t=n.cleanup,r=e[So];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[So]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Ca];if(o!==null){e[Ca]=null;for(let s of o)s.destroy()}}function Ux(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ci)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];_e(4,c,u);try{u.call(c)}finally{_e(5,c,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function Bx(n,e,t){return $x(n,e.parent,t)}function $x(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[en];if(Rr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Zn.None||i===Zn.Emulated)return null}return rn(r,t)}function Hx(n,e,t){return qx(n,e,t)}function zx(n,e,t){return n.type&40?rn(n,t):null}var qx=zx,GD;function Pm(n,e,t,r){let i=Bx(n,r,e),o=e[Ge],s=r.parent||e[Bt],c=Hx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)HD(o,i,t[u],c,!1);else HD(o,i,t,c,!1);GD!==void 0&&GD(o,r,e,t,i)}function Na(n,e){if(e!==null){let t=e.type;if(t&3)return rn(e,n);if(t&4)return Xg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Na(n,r);{let i=n[e.index];return nn(i)?Xg(-1,i):Ht(i)}}else{if(t&128)return Na(n,e.next);if(t&32)return Rm(e,n)()||Ht(n[e.index]);{let r=rT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Dr(n[$t]);return Na(i,r)}else return Na(n,e.next)}}}return null}function rT(n,e){if(e!==null){let r=n[$t][Bt],i=e.projection;return r.projection[i]}return null}function Xg(n,e){let t=Et+n+1;if(t<e.length){let r=e[t],i=r[ne].firstChild;if(i!==null)return Na(r,i)}return e[Ar]}function xm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Va(Ht(c),r),t.flags|=2),!Nm(t))if(u&8)xm(n,e,t.child,r,i,o,!1),xo(e,n,i,c,o);else if(u&32){let l=Rm(t,r),h;for(;h=l();)xo(e,n,i,h,o);xo(e,n,i,c,o)}else u&16?Gx(n,e,r,t,i,o):xo(e,n,i,c,o);t=s?t.projectionNext:t.next}}function ld(n,e,t,r,i,o){xm(t,r,n.firstChild,e,i,o,!1)}function Gx(n,e,t,r,i,o){let s=t[$t],u=s[Bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];xo(e,n,i,h,o)}else{let l=u,h=s[Ze];RC(r)&&(l.flags|=128),xm(n,e,l,h,i,o,!0)}}function Wx(n,e,t,r,i){let o=t[Ar],s=Ht(t);o!==s&&xo(e,n,r,o,i);for(let c=Et;c<t.length;c++){let u=t[c];ld(u[ne],u,n,e,r,o)}}function Kx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:In.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=In.Important),n.setStyle(t,r,i,o))}}function ka(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ht(o)),nn(o)&&iT(o,r);let s=t.type;if(s&8)ka(n,e,t.child,r);else if(s&32){let c=Rm(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=rT(e,t);if(Array.isArray(c))r.push(...c);else{let u=Dr(e[$t]);ka(u[ne],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function iT(n,e){for(let t=Et;t<n.length;t++){let r=n[t],i=r[ne].firstChild;i!==null&&ka(r[ne],r,i,e)}n[Ar]!==n[en]&&e.push(n[Ar])}function oT(n){if(n[_i]!==null){for(let e of n[_i])e.impl.addSequence(e);n[_i].length=0}}var sT=[];function Qx(n){return n[kt]??Yx(n)}function Yx(n){let e=sT.pop()??Object.create(Jx);return e.lView=n,e}function Zx(n){n.lView[kt]!==n&&(n.lView=null,sT.push(n))}var Jx=Y(x({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{No(n.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function Xx(n){let e=n[kt]??Object.create(ek);return e.lView=n,e}var ek=Y(x({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Dr(n.lView);for(;e&&!aT(e[ne]);)e=Dr(e);e&&vg(e)},consumerOnSignalRead(){this.lView[kt]=this}});function aT(n){return n.type!==2}function cT(n){if(n[Ca]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ca])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[W]&8192)}}var tk=100;function km(n,e=0){let r=n[gn].rendererFactory,i=!1;i||r.begin?.();try{nk(n,e)}finally{i||r.end?.()}}function nk(n,e){let t=bg();try{Sg(!0),em(n,e);let r=0;for(;Sa(n);){if(r===tk)throw new V(103,!1);r++,em(n,1)}}finally{Sg(t)}}function uT(n,e){Tg(e?Aa.Exhaustive:Aa.OnlyDirtyViews);try{km(n)}finally{Tg(Aa.Off)}}function rk(n,e,t,r){if(Ii(e))return;let i=e[W],o=!1,s=!1;Nl(e);let c=!0,u=null,l=null;o||(aT(n)?(l=Qx(e),u=oi(l)):Pu()===null?(c=!1,l=Xx(e),u=oi(l)):e[kt]&&(ku(e[kt]),e[kt]=null));try{yg(e),ED(n.bindingStartIndex),t!==null&&JC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&jl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Ul(e,y,0,null),Fg(e,0)}if(s||ik(e),cT(e),lT(e,0),n.contentQueries!==null&&VC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&jl(e,y)}else{let y=n.contentHooks;y!==null&&Ul(e,y,1),Fg(e,1)}sk(n,e);let p=n.components;p!==null&&hT(e,p,0);let m=n.viewQuery;if(m!==null&&Zg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&jl(e,y)}else{let y=n.viewHooks;y!==null&&Ul(e,y,2),Fg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[wl]){for(let y of e[wl])y();e[wl]=null}o||(oT(e),e[W]&=-73)}catch(h){throw o||No(e),h}finally{l!==null&&(uo(l,u),c&&Zx(l)),Ml()}}function lT(n,e){for(let t=MC(n);t!==null;t=PC(t))for(let r=Et;r<t.length;r++){let i=t[r];dT(i,e)}}function ik(n){for(let e=MC(n);e!==null;e=PC(e)){if(!(e[W]&2))continue;let t=e[Ei];for(let r=0;r<t.length;r++){let i=t[r];vg(i)}}}function ok(n,e,t){_e(18);let r=zt(e,n);dT(r,t),_e(19,r[_t])}function dT(n,e){Tl(n)&&em(n,e)}function em(n,e){let r=n[ne],i=n[W],o=n[kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&sa(o)),s||=!1,o&&(o.dirty=!1),n[W]&=-9217,s)rk(r,n,r.template,n[_t]);else if(i&8192){cT(n),lT(n,1);let c=r.components;c!==null&&hT(n,c,1),oT(n)}}function hT(n,e,t){for(let r=0;r<e.length;r++)ok(n,e[r],t)}function sk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Nr(~i);else{let o=i,s=t[++r],c=t[++r];DD(s,o);let u=e[o];_e(24,u),c(2,u),_e(25,u)}}}finally{Nr(-1)}}function Om(n,e){let t=bg()?64:1088;for(n[gn].changeDetectionScheduler?.notify(e);n;){n[W]|=t;let r=Dr(n);if(Ro(n)&&!r)return n;n=r}return null}function fT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ak(n,e,t,r=!0){let i=e[ne];if(ck(i,e,n,t),r){let s=Xg(t,n),c=e[Ge],u=c.parentNode(n[Ar]);u!==null&&Lx(i,n[Bt],c,e,u,s)}let o=e[wa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function tm(n,e){if(n.length<=Et)return;let t=Et+e,r=n[t];if(r){let i=r[Sr];i!==null&&i!==n&&Mm(i,r),e>0&&(n[t-1][Ut]=r[Ut]);let o=_a(n,Et+e);Fx(r[ne],r);let s=o[mn];s!==null&&s.detachView(o[ne]),r[Ze]=null,r[Ut]=null,r[W]&=-129}return r}function ck(n,e,t,r){let i=Et+r,o=t.length;r>0&&(t[i-1][Ut]=e),r<o-Et?(e[Ut]=t[i],rg(t,Et+r,e)):(t.push(e),e[Ut]=null),e[Ze]=t;let s=e[Sr];s!==null&&t!==s&&pT(s,e);let c=e[mn];c!==null&&c.insertView(n),bl(e),e[W]|=128}function pT(n,e){let t=n[Ei],r=e[Ze];if(yn(r))n[W]|=2;else{let i=r[Ze][$t];e[$t]!==i&&(n[W]|=2)}t===null?n[Ei]=[e]:t.push(e)}var Pr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ne];return ka(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[_t]}set context(e){this._lView[_t]=e}get destroyed(){return Ii(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ze];if(nn(e)){let t=e[Ta],r=t?t.indexOf(this):-1;r>-1&&(tm(e,r),_a(t,r))}this._attachedToViewContainer=!1}nT(this._lView[ne],this._lView)}onDestroy(e){_g(this._lView,e)}markForCheck(){Om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){bl(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,km(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[mi].get(kx,qD)}catch{this.exhaustive=qD}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ro(this._lView),t=this._lView[Sr];t!==null&&!e&&Mm(t,this._lView),tT(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Ro(this._lView),r=this._lView[Sr];r!==null&&!t&&pT(r,this._lView),bl(this._lView)}};var xr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=uk;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=xx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Pr(o)}}return n})();function uk(){return Fm(lt(),De())}function Fm(n,e){return n.type&4?new xr(e,n,Vo(n,e)):null}function Lm(n,e,t,r,i){let o=n.data[e];if(o===null)o=lk(n,e,t,r,i),wD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=vD();o.injectorIndex=s===null?-1:s.injectorIndex}return Mo(o,!0),o}function lk(n,e,t,r,i){let o=Dg(),s=Cg(),c=s?o:o&&o.parent,u=n.data[e]=hk(n,c,t,e,r,i);return dk(n,u,o,s),u}function dk(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function hk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return gD()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var j9=new RegExp(`^(\\d+)*(${zP}|${HP})*(.*)`);var fk=()=>null;function WD(n,e){return fk(n,e)}var gT=class{},dd=class{},nm=class{resolveComponentFactory(e){throw new V(917,!1)}},Ba=class{static NULL=new nm},Ti=class{},Jn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>pk()}return n})();function pk(){let n=De(),e=lt(),t=zt(e.index,n);return(yn(t)?t:n)[Ge]}var mT=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var $l={},rm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,$l,r);return i!==$l||t===$l?i:this.parentInjector.get(e,t,r)}};function KD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Gp(i,c);else if(o==2){let u=c,l=e[++s];r=Gp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function re(n,e=0){let t=De();if(t===null)return q(n,e);let r=lt();return bC(r,t,ot(n),e)}function Vm(){let n="invalid";throw new Error(n)}function yT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}yk(n,e,t,c,o,u,l)}o!==null&&r!==null&&gk(t,r,o)}function gk(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function mk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function yk(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&vn(y)&&(u=!0,mk(n,t,m)),Wg(Gl(t,e),n,y.type)}Dk(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=YC(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=Pa(t.mergedAttrs,y.hostAttrs),_k(n,t,e,p,y),wk(p,y,i),s!==null&&s.has(y)){let[P,N]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}vk(n,t,o)}function vk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))QD(0,e,i,r),QD(1,e,i,r),ZD(e,r,!1);else{let o=t.get(i);YD(0,e,o,r),YD(1,e,o,r),ZD(e,r,!0)}}}function QD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vT(e,o)}}function YD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),vT(e,s)}}function vT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ZD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||wm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function _k(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=hi(i.type,!0)),s=new Ci(o,vn(i),re);n.blueprint[r]=s,t[r]=s,Ek(n,e,r,YC(n,t,i.hostVars,Or),i)}function Ek(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;Ik(s)!=c&&s.push(c),s.push(t,r,o)}}function Ik(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function wk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;vn(e)&&(t[""]=n)}}function Dk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _T(n,e,t,r,i,o,s,c){let u=e.consts,l=ba(u,s),h=Lm(e,n,2,r,l);return o&&yT(e,t,h,ba(u,c),i),h.mergedAttrs=Pa(h.mergedAttrs,h.attrs),h.attrs!==null&&KD(h,h.attrs,!1),h.mergedAttrs!==null&&KD(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function ET(n,e){yC(n,e),gg(e)&&n.queries.elementEnd(e)}function jm(n){return wT(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function IT(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function wT(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hd(n,e,t){if(t===Or)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function jg(n,e,t){return function r(i){let o=Rr(n)?zt(n.index,e):e;Om(o,5);let s=e[_t],c=JD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=JD(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function JD(n,e,t,r){let i=oe(null);try{return _e(6,e,t),t(r)!==!1}catch(o){return Rx(n,o),!1}finally{_e(7,e,t),oe(i)}}function Ck(n,e,t,r,i,o,s,c){let u=Dl(n),l=!1,h=null;if(!r&&u&&(h=Tk(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=rn(n,t),m=r?r(p):p;GP(t,m,o,c);let y=i.listen(m,o,c),A=r?P=>r(Ht(P[n.index])):n.index;DT(A,e,t,o,c,y,!1)}return l}function Tk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[So],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function DT(n,e,t,r,i,o,s){let c=e.firstCreatePass?Ig(e):null,u=Eg(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function XD(n,e,t,r,i,o){let s=e[t],c=e[ne],l=c.data[t].outputs[r],p=s[l].subscribe(o);DT(n.index,c,e,i,o,p,!0)}var im=Symbol("BINDING");var Yl=class extends Ba{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Kn(e);return new bi(t,this.ngModule)}};function bk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ud.SignalBased)!==0};return i&&(o.transform=i),o})}function Sk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Ak(n,e,t){let r=e instanceof Oe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new rm(t,r):t}function Rk(n){let e=n.get(Ti,null);if(e===null)throw new V(407,!1);let t=n.get(mT,null),r=n.get(Wn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Nk(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return GC(e,t,t==="svg"?oD:t==="math"?sD:null)}var bi=class extends dd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=bk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Sk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){_e(22);let c=oe(null);try{let u=this.componentDef,l=Mk(r,u,s,o),h=Ak(u,i||this.ngModule,e),p=Rk(h),m=p.rendererFactory.createRenderer(null,u),y=r?mx(m,r,u.encapsulation,h):Nk(u,m),A=s?.some(eC)||o?.some(F=>typeof F!="function"&&F.bindings.some(eC)),P=Cm(null,l,null,512|QC(u),null,null,p,m,h,null,LC(y,h,!0));P[tn]=y,Nl(P);let N=null;try{let F=_T(tn,l,P,"#host",()=>l.directiveRegistry,!0,0);y&&(KC(m,y,F),Va(y,P)),bm(l,P,F),jC(l,F,P),ET(l,F),t!==void 0&&xk(F,this.ngContentSelectors,t),N=zt(F.index,P),P[_t]=N[_t],Am(l,P,null)}catch(F){throw N!==null&&Qg(N),Qg(P),F}finally{_e(23),Ml()}return new Zl(this.componentType,P,!!A)}finally{oe(c)}}};function Mk(n,e,t,r){let i=n?["ng-version","20.0.1"]:ax(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[im].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[im].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=ag(p);u.push(m)}return Dm(0,null,Pk(o,s),1,c,u,null,null,null,[i],null)}function Pk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function eC(n){let e=n[im].kind;return e==="input"||e==="twoWay"}var Zl=class extends gT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Cl(t[ne],tn),this.location=Vo(this._tNode,t),this.instance=zt(this._tNode.index,t)[_t],this.hostView=this.changeDetectorRef=new Pr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Sm(r,i[ne],i,e,t);this.previousInputValues.set(e,t);let s=zt(r.index,i);Om(s,1)}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xn=(()=>{class n{static __NG_ELEMENT_ID__=kk}return n})();function kk(){let n=lt();return TT(n,De())}var Ok=Xn,CT=class extends Ok{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){let e=ym(this._hostTNode,this._hostLView);if(EC(e)){let t=ql(e,this._hostLView),r=zl(e),i=t[ne].data[r+8];return new Di(i,t)}else return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=tC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=WD(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,zD(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!yP(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let h=u?e:new bi(Kn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Oe,null);F&&(o=F)}let m=Kn(h.componentType??{}),y=WD(this._lContainer,m?.id??null),A=y?.firstChild??null,P=h.create(p,i,A,o,s,c);return this.insertImpl(P.hostView,l,zD(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(cD(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ze],l=new CT(u,u[Bt],u[Ze]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ak(s,i,o,r),e.attachToViewContainerRef(),rg(Ug(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=tC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=tm(this._lContainer,t);r&&(_a(Ug(this._lContainer),t),nT(r[ne],r))}detach(e){let t=this._adjustIndex(e,-1),r=tm(this._lContainer,t);return r&&_a(Ug(this._lContainer),t)!=null?new Pr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tC(n){return n[Ta]}function Ug(n){return n[Ta]||(n[Ta]=[])}function TT(n,e){let t,r=e[n.index];return nn(r)?t=r:(t=fT(r,e,null,n),e[n.index]=t,Tm(e,t)),Lk(t,e,n,r),new CT(t,n,e)}function Fk(n,e){let t=n[Ge],r=t.createComment(""),i=rn(e,n),o=t.parentNode(i);return Ql(t,o,r,t.nextSibling(i),!1),r}var Lk=Uk,Vk=()=>!1;function jk(n,e,t){return Vk(n,e,t)}function Uk(n,e,t,r){if(n[Ar])return;let i;t.type&8?i=Ht(r):i=Fk(e,t),n[Ar]=i}var om=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},sm=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Um(e,t).matches!==null&&this.queries[t].setDirty()}},am=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Kk(e):this.predicate=e}},cm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},um=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Bk(t,o)),this.matchTNodeWithReadOption(e,t,Bl(t,e,o,!1,!1))}else r===xr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ot||i===Xn||i===xr&&t.type&4)this.addMatch(t.index,-2);else{let o=Bl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Bk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function $k(n,e){return n.type&11?Vo(n,e):n.type&4?Fm(n,e):null}function Hk(n,e,t,r){return t===-1?$k(e,n):t===-2?zk(n,e,r):xa(n,n[ne],t,e)}function zk(n,e,t){if(t===Ot)return Vo(e,n);if(t===xr)return Fm(e,n);if(t===Xn)return TT(e,n)}function bT(n,e,t,r){let i=e[mn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(Hk(e,h,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function lm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=bT(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=Et;p<h.length;p++){let m=h[p];m[Sr]===m[Ze]&&lm(m[ne],m,l,r)}if(h[Ei]!==null){let p=h[Ei];for(let m=0;m<p.length;m++){let y=p[m];lm(y[ne],y,l,r)}}}}}return r}function qk(n,e){return n[mn].queries[e].queryList}function Gk(n,e,t){let r=new Wl((t&4)===4);return dD(n,e,r,r.destroy),(e[mn]??=new sm).queries.push(new om(r))-1}function Wk(n,e,t,r){let i=St();if(i.firstCreatePass){let o=lt();Qk(i,new am(e,t,r),o.index),Yk(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Gk(i,De(),t)}function Kk(n){return n.split(",").map(e=>e.trim())}function Qk(n,e,t){n.queries===null&&(n.queries=new cm),n.queries.track(new um(e,t))}function Yk(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Um(n,e){return n.queries.getByIndex(e)}function Zk(n,e){let t=n[ne],r=Um(t,e);return r.crossesNgTemplate?lm(t,n,e,[]):bT(t,n,r,e)}var nC=new Set;function jo(n){nC.has(n)||(nC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Si=class{},fd=class{};var Jl=class extends Si{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yl(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=sg(e);this._bootstrapComponents=zC(o.bootstrap),this._r3Injector=Pg(e,t,[{provide:Si,useValue:this},{provide:Ba,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xl=class extends fd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jl(this.moduleType,e,[])}};var Oa=class extends Si{injector;componentFactoryResolver=new Yl(this);instance=null;constructor(e){super();let t=new pi([...e.providers,{provide:Si,useValue:this},{provide:Ba,useValue:this.componentFactoryResolver}],e.parent||Ia(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uo(n,e,t=null){return new Oa({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Jk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=cg(!1,t.type),i=r.length>0?Uo([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(q(Oe))})}return n})();function We(n){return Fo(()=>{let e=ST(n),t=Y(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Jk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zn.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&jo("NgStandalone"),AT(t);let r=n.dependencies;return t.directiveDefs=rC(r,!1),t.pipeDefs=rC(r,!0),t.id=rO(t),t})}function Xk(n){return Kn(n)||ag(n)}function eO(n){return n!==null}function Cn(n){return Fo(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tO(n,e){if(n==null)return Tr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=ud.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function nO(n){if(n==null)return Tr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Xe(n){return Fo(()=>{let e=ST(n);return AT(e),e})}function ST(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Tr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:tO(n.inputs,e),outputs:nO(n.outputs),debugInfo:null}}function AT(n){n.features?.forEach(e=>e(n))}function rC(n,e){if(!n)return null;let t=e?Xw:Xk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(eO)}function rO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function iO(n){return Object.getPrototypeOf(n.prototype).constructor}function er(n){let e=iO(n.type),t=!0,r=[n];for(;e;){let i;if(vn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Bg(n.inputs),s.declaredInputs=Bg(n.declaredInputs),s.outputs=Bg(n.outputs);let c=i.hostBindings;c&&uO(n,c);let u=i.viewQuery,l=i.contentQueries;if(u&&aO(n,u),l&&cO(n,l),oO(n,i),qw(n.outputs,i.outputs),vn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===er&&(t=!1)}}e=Object.getPrototypeOf(e)}sO(r)}function oO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function sO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pa(i.hostAttrs,t=Pa(t,i.hostAttrs))}}function Bg(n){return n===Tr?{}:n===xt?[]:n}function aO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function cO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function uO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function lO(n,e,t,r,i,o,s,c,u){let l=e.consts,h=Lm(e,n,4,s||null,c||null);wg()&&yT(e,t,h,ba(l,u),eT),h.mergedAttrs=Pa(h.mergedAttrs,h.attrs),yC(e,h);let p=h.tView=Dm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function dO(n,e,t,r,i,o,s,c,u,l,h){let p=t+tn,m=e.firstCreatePass?lO(p,e,n,r,i,o,s,c,l):e.data[p];u&&(m.flags|=u),Mo(m,!1);let y=hO(e,n,m,t);Pl()&&Pm(e,n,y,m),Va(y,n);let A=fT(y,n,y,m);return n[p]=A,Tm(n,A),jk(A,m,n),Dl(m)&&bm(e,n,m),l!=null&&XC(n,m,h),m}function dt(n,e,t,r,i,o,s,c){let u=De(),l=St(),h=ba(l.consts,o);return dO(u,l,n,e,t,r,i,h,void 0,s,c),dt}var hO=fO;function fO(n,e,t,r){return xl(!0),e[Ge].createComment("")}var pd=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(pd||{}),Ri=new U(""),RT=!1,dm=class extends xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,dg()&&(this.destroyRef=R(Mr,{optional:!0})??void 0,this.pendingTasks=R(Yn,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Fe=dm;function NT(n){let e,t;function r(){n=Ra;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function iC(n){return queueMicrotask(()=>n()),()=>{n=Ra}}var Bm="isAngularZone",ed=Bm+"_ID",pO=0,Ee=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=RT}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gO,Ra,Ra);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},gO={};function $m(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){NT(()=>{n.callbackScheduled=!1,hm(n),n.isCheckStableRunning=!0,$m(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),hm(n)}function yO(n){let e=()=>{mO(n)},t=pO++;n._inner=n._inner.fork({name:"angular",properties:{[Bm]:!0,[ed]:t,[ed+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(vO(u))return r.invokeTask(o,s,c,u);try{return oC(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sC(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return oC(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!_O(u)&&e(),sC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,hm(n),$m(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function hm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sC(n){n._nesting--,$m(n)}var td=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function vO(n){return MT(n,"__ignore_ng_zone__")}function _O(n){return MT(n,"__scheduler_tick__")}function MT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Hm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),PT=[0,1,2,3],xT=(()=>{class n{ngZone=R(Ee);scheduler=R(Wn);errorHandler=R(Jt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){R(Ri,{optional:!0})}execute(){let t=this.sequences.size>0;t&&_e(16),this.executing=!0;for(let r of PT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&_e(17)}register(t){let{view:r}=t;r!==void 0?((r[_i]??=[]).push(t),No(r),r[W]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(pd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),nd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[_i];e&&(this.view[_i]=e.filter(t=>t!==this))}};function gd(n,e){!e?.injector&&hg(gd);let t=e?.injector??R(Ue);return jo("NgAfterNextRender"),IO(n,t,e,!0)}function EO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function IO(n,e,t,r){let i=e.get(Hm);i.impl??=e.get(xT);let o=e.get(Ri,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Mr):null,c=e.get(Ol,null,{optional:!0}),u=new nd(i.impl,EO(n),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var zm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var qm=new U("");function Fr(n){return!!n&&typeof n.then=="function"}function Gm(n){return!!n&&typeof n.subscribe=="function"}var Wm=new U("");function md(n){return Qn([{provide:Wm,multi:!0,useValue:n}])}var Km=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=R(Wm,{optional:!0})??[];injector=R(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Je(this.injector,i);if(Fr(o))t.push(o);else if(Gm(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$a=new U("");function kT(){mp(()=>{let n="";throw new V(600,n)})}function OT(n){return n.isBoundToModule}var wO=10;var Ni=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=R(At);afterRenderManager=R(Hm);zonelessEnabled=R(kl);rootEffectScheduler=R(Og);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new xe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=R(Yn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(t=>!t))}constructor(){R(Ri,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=R(Oe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){return this._injector.get(Ee).run(()=>{_e(10);let s=t instanceof dd;if(!this._injector.get(Km).done){let A="";throw new V(405,A)}let u;s?u=t:u=this._injector.get(Ba).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=OT(u)?void 0:this._injector.get(Si),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(qm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ma(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),_e(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(pd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(t),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ti,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wO;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Sa(i))continue;let o=r&&!this.zonelessEnabled?0:1;km(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Sa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ma(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get($a,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ma(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ma(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ha(n,e,t,r){let i=De(),o=Sl();if(hd(i,o,e)){let s=St(),c=Mg();bx(c,i,n,e,t,r)}return Ha}function be(n,e,t){let r=De(),i=Sl();if(hd(r,i,e)){let o=St(),s=Mg();Ex(s,r,n,e,r[Ge],t)}return be}function aC(n,e,t,r,i){Sm(e,n,t,i?"class":"style",r)}function $(n,e,t,r){let i=De(),o=St(),s=tn+n,c=i[Ge],u=o.firstCreatePass?_T(s,o,i,e,eT,wg(),t,r):o.data[s],l=DO(o,i,u,c,e,n);i[s]=l;let h=Dl(u);return Mo(u,!0),KC(c,l,u),!Nm(u)&&Pl()&&Pm(o,i,l,u),(hD()===0||h)&&Va(l,i),fD(),h&&(bm(o,i,u),jC(o,u,i)),r!==null&&XC(i,u),$}function B(){let n=lt();Cg()?_D():(n=n.parent,Mo(n,!1));let e=n;mD(e)&&yD(),pD();let t=St();return t.firstCreatePass&&ET(t,e),e.classesWithoutHost!=null&&DP(e)&&aC(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CP(e)&&aC(t,e,De(),e.stylesWithoutHost,!1),B}function It(n,e,t,r){return $(n,e,t,r),B(),It}var DO=(n,e,t,r,i,o)=>(xl(!0),GC(r,i,ND()));var za="en-US";var CO=za;function FT(n){typeof n=="string"&&(CO=n.toLowerCase().replace(/_/g,"-"))}function tr(n,e,t){let r=De(),i=St(),o=lt();return TO(i,r,r[Ge],o,n,e,t),tr}function TO(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=jg(r,e,o),Ck(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=jg(r,e,o),XD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=jg(r,e,o),XD(r,e,p,i,i,u)}}function Tn(n=1){return RD(n)}function Qm(n,e,t,r){Wk(n,e,t,r)}function Ym(n){let e=De(),t=St(),r=Ag();Rl(r+1);let i=Um(t,r);if(n.dirty&&aD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Zk(e,r);n.reset(o,LP),n.notifyOnChanges()}return!0}return!1}function Zm(){return qk(De(),Ag())}function Vl(n,e){return n<<17|e<<2}function Ai(n){return n>>17&32767}function bO(n){return(n&2)==2}function SO(n,e){return n&131071|e<<17}function fm(n){return n|2}function Oo(n){return(n&131068)>>2}function $g(n,e){return n&-131069|e<<2}function AO(n){return(n&1)===1}function pm(n){return n|1}function RO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ai(s),u=Oo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||bo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ai(n[c+1]);n[r+1]=Vl(m,c),m!==0&&(n[m+1]=$g(n[m+1],r)),n[c+1]=SO(n[c+1],r)}else n[r+1]=Vl(c,0),c!==0&&(n[c+1]=$g(n[c+1],r)),c=r;else n[r+1]=Vl(u,0),c===0?c=r:n[u+1]=$g(n[u+1],r),u=r;l&&(n[r+1]=fm(n[r+1])),cC(n,h,r,!0),cC(n,h,r,!1),NO(e,h,n,r,o),s=Vl(c,u),o?e.classBindings=s:e.styleBindings=s}function NO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&bo(o,e)>=0&&(t[r+1]=pm(t[r+1]))}function cC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ai(i):Oo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],l=n[s+1];MO(u,e)&&(c=!0,n[s+1]=r?pm(l):fm(l)),s=r?Ai(l):Oo(l)}c&&(n[t+1]=r?fm(i):pm(i))}function MO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?bo(n,e)>=0:!1}function qa(n,e){return PO(n,e,null,!0),qa}function PO(n,e,t,r){let i=De(),o=St(),s=ID(2);if(o.firstUpdatePass&&kO(o,n,s,r),e!==Or&&hd(i,s,e)){let c=o.data[wi()];jO(o,c,i,i[Ge],n,i[s+1]=UO(e,t),r,s)}}function xO(n,e){return e>=n.expandoStartIndex}function kO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[wi()],s=xO(n,t);BO(o,r)&&e===null&&!s&&(e=!1),e=OO(i,o,e,r),RO(i,o,e,t,s,r)}}function OO(n,e,t,r){let i=TD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Hg(null,n,e,t,r),t=Fa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Hg(i,n,e,t,r),o===null){let u=FO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Hg(null,n,e,u[1],r),u=Fa(u,e.attrs,r),LO(n,e,r,u))}else o=VO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function FO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Oo(r)!==0)return n[Ai(r)]}function LO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ai(i)]=r}function VO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Fa(r,s,t)}return Fa(r,e.attrs,t)}function Hg(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Fa(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Fa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Jw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function jO(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],h=AO(l)?uC(u,e,t,i,Oo(l),s):void 0;if(!rd(h)){rd(o)||bO(l)&&(o=uC(u,null,t,i,c,s));let p=mg(wi(),t);Kx(r,s,p,i,o)}}function uC(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Or&&(m=p?xt:void 0);let y=p?Il(m,r):h===r?m:void 0;if(l&&!rd(y)&&(y=Il(u,r)),rd(y)&&(c=y,s))return c;let A=n[i+1];i=s?Ai(A):Oo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Il(u,r))}return c}function rd(n){return n!==void 0}function UO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(ja(n)))),n}function BO(n,e){return(n.flags&(e?8:16))!==0}function K(n,e=""){let t=De(),r=St(),i=n+tn,o=r.firstCreatePass?Lm(r,i,1,e,null):r.data[i],s=$O(r,t,o,e,n);t[i]=s,Pl()&&Pm(r,t,s,o),Mo(o,!1)}var $O=(n,e,t,r,i)=>(xl(!0),cx(e[Ge],r));function HO(n,e,t,r=""){return hd(n,Sl(),t)?e+va(t)+r:Or}function Bo(n){return Jm("",n),Bo}function Jm(n,e,t){let r=De(),i=HO(r,n,e,t);return i!==Or&&zO(r,wi(),i),Jm}function zO(n,e,t){let r=mg(e,n);ux(n[Ge],r,t)}function qO(n,e,t){let r=St();if(r.firstCreatePass){let i=vn(n);gm(t,r.data,r.blueprint,i,!0),gm(e,r.data,r.blueprint,i,!1)}}function gm(n,e,t,r,i){if(n=ot(n),Array.isArray(n))for(let o=0;o<n.length;o++)gm(n[o],e,t,r,i);else{let o=St(),s=De(),c=lt(),u=fi(n)?n:ot(n.provide),l=lg(n),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(fi(n)||!n.multi){let y=new Ci(l,i,re),A=qg(u,e,i?h:h+m,p);A===-1?(Wg(Gl(c,s),o,u),zg(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(y),s.push(y)):(t[A]=y,s[A]=y)}else{let y=qg(u,e,h+m,p),A=qg(u,e,h,h+m),P=y>=0&&t[y],N=A>=0&&t[A];if(i&&!N||!i&&!P){Wg(Gl(c,s),o,u);let F=KO(i?WO:GO,t.length,i,r,l);!i&&N&&(t[A].providerFactory=F),zg(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=LT(t[i?A:y],l,!i&&r);zg(o,n,y>-1?y:A,F)}!i&&r&&N&&t[A].componentProviders++}}}function zg(n,e,t,r){let i=fi(e),o=rD(e);if(i||o){let u=(o?ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function LT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function qg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function GO(n,e,t,r){return mm(this.multi,[])}function WO(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=xa(t,t[ne],this.providerFactory.index,r);o=c.slice(0,s),mm(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],mm(i,o);return o}function mm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function KO(n,e,t,r,i){let o=new Ci(n,t,re);return o.multi=[],o.index=e,o.componentProviders=0,LT(o,i,r&&!t),o}function Ga(n,e=[]){return t=>{t.providersResolver=(r,i)=>qO(r,i?i(n):n,e)}}var id=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Xm=(()=>{class n{compileModuleSync(t){return new Xl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=sg(t),o=zC(i.declarations).reduce((s,c)=>{let u=Kn(c);return u&&s.push(new bi(u)),s},[]);return new id(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var QO=(()=>{class n{zone=R(Ee);changeDetectionScheduler=R(Wn);applicationRef=R(Ni);applicationErrorHandler=R(At);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(Y(x({},jT()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:br,multi:!0,useFactory:()=>{let r=R(QO,{optional:!0});return()=>r.initialize()}},{provide:br,multi:!0,useFactory:()=>{let r=R(YO);return()=>{r.initialize()}}},e===!0?{provide:xg,useValue:!0}:[],{provide:kg,useValue:t??RT},{provide:At,useFactory:()=>{let r=R(Ee),i=R(Oe),o;return s=>{o??=i.get(Jt),r.runOutsideAngular(()=>o.handleError(s))}}}]}function jT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YO=(()=>{class n{subscription=new Pe;initialized=!1;zone=R(Ee);pendingTasks=R(Yn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var UT=(()=>{class n{applicationErrorHandler=R(At);appRef=R(Ni);taskService=R(Yn);ngZone=R(Ee);zonelessEnabled=R(kl);tracing=R(Ri,{optional:!0});disableScheduling=R(xg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ed):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(kg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof td||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iC:NT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ed+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZO(){return typeof $localize<"u"&&$localize.locale||za}var yd=new U("",{providedIn:"root",factory:()=>R(yd,{optional:!0,skipSelf:!0})||ZO()});function qt(n){return Bw(n)}function $o(n,e){return Vu(n,e?.equal)}var BT=class{[yt];constructor(e){this[yt]=e}destroy(){this[yt].destroy()}};var GT=Symbol("InputSignalNode#UNSET"),h1=Y(x({},ju),{transformFn:void 0,applyValueToInputSignal(n,e){lo(n,e)}});function WT(n,e){let t=Object.create(h1);t.value=n,t.transformFn=e?.transform;function r(){if(co(t),t.value===GT){let i=null;throw new V(-950,i)}return t.value}return r[yt]=t,r}var _d=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>La(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},f1=new U("");f1.__NG_ELEMENT_ID__=n=>{let e=lt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function $T(n,e){return WT(n,e)}function p1(n){return WT(GT,n)}var KT=($T.required=p1,$T);var Mi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},QT=new Mi("20.0.1");var ey=new U(""),g1=new U("");function Wa(n){return!n.moduleRef}function m1(n){let e=Wa(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Wa(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(At),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Wa(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ey);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ey);s.add(o),n.moduleRef.onDestroy(()=>{Ma(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return v1(r,t,()=>{let o=e.get(Km);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(yd,za);if(FT(s||za),!e.get(g1,!0))return Wa(n)?e.get(Ni):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Wa(n)){let u=e.get(Ni);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return y1?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var y1;function v1(n,e,t){try{let r=t();return Fr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var vd=null;function _1(n=[],e){return Ue.create({name:e,providers:[{provide:Ea,useValue:"platform"},{provide:ey,useValue:new Set([()=>vd=null])},...n]})}function E1(n=[]){if(vd)return vd;let e=_1(n);return vd=e,kT(),I1(e),e}function I1(n){let e=n.get(sd,null);Je(n,()=>{e?.forEach(t=>t())})}function oy(){return!1}var Pi=(()=>{class n{static __NG_ELEMENT_ID__=w1}return n})();function w1(n){return D1(lt(),De(),(n&16)===16)}function D1(n,e,t){if(Rr(n)&&!t){let r=zt(n.index,e);return new Pr(r,r)}else if(n.type&175){let r=e[$t];return new Pr(r,e)}return null}var ty=class{constructor(){}supports(e){return jm(e)}create(e){return new ny(e)}},C1=(n,e)=>e,ny=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||C1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<HT(r,i,o)?t:r,c=HT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,A=y+m;h<=A&&A<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!jm(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,IT(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ry(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ed),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ed),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ry=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},iy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ed=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new iy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function zT(){return new sy([new ty])}var sy=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:zT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||zT()),deps:[[n,new hC,new wn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function YT(n){_e(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=E1(r),o=[VT({}),{provide:Wn,useExisting:UT},PD,...t||[]],s=new Oa({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return m1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_e(9)}}function Ho(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ZT(n){let e=Kn(n);if(!e)return null;let t=new bi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var eb=null;function Gt(){return eb}function ay(n){eb??=n}var Ka=class{},Qa=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>R(tb),providedIn:"platform"})}return n})(),cy=new U(""),tb=(()=>{class n extends Qa{_location;_history;_doc=R(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gt().getBaseHref(this._doc)}onPopState(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Id(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function JT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function sn(n){return n&&n[0]!=="?"?`?${n}`:n}var an=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>R(Dd),providedIn:"root"})}return n})(),wd=new U(""),Dd=(()=>{class n extends an{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Id(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+sn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+sn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+sn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(Qa),q(wd,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vr=(()=>{class n{_subject=new xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=S1(JT(XT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+sn(r))}normalize(t){return n.stripTrailingSlash(b1(this._basePath,XT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=sn;static joinWithSlash=Id;static stripTrailingSlash=JT;static \u0275fac=function(r){return new(r||n)(q(an))};static \u0275prov=j({token:n,factory:()=>T1(),providedIn:"root"})}return n})();function T1(){return new Vr(q(an))}function b1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function XT(n){return n.replace(/\/index.html$/,"")}function S1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var uy=(()=>{class n extends an{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Id(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+sn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+sn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(q(Qa),q(wd,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var Cd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zo=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Cd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),nb(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);nb(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(re(Xn),re(xr),re(sy))};static \u0275dir=Xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function nb(n,e){n.context.$implicit=e.item}var Ya=(()=>{class n{_viewContainer;_context=new Td;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(re(Xn),re(xr))};static \u0275dir=Xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Td=class{$implicit=null;ngIf=null};function rb(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var jr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=Xt({})}return n})();function ly(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Za=class{};var ib="browser",A1="server";function ob(n){return n===A1}var sb=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new dy(R(Be),window)})}return n})(),dy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(Y(x({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=R1(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Y(x({},t),{left:i-s[0],top:o-s[1]}))}};function R1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Rd=new U(""),gy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(q(Rd),q(Ee))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Ja=class{_doc;constructor(e){this._doc=e}manager},Sd="ng-app-id";function ab(n){for(let e of n)e.remove()}function cb(n,e){let t=e.createElement("style");return t.textContent=n,t}function N1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Sd}="${e}"],link[${Sd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Sd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function fy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var my=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ob(o),N1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,cb);r?.forEach(i=>this.addUsage(i,this.external,fy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ab(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ab(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,cb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,fy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(q(Be),q(od),q(ad,8),q(kr))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yy=/%COMP%/g;var lb="%COMP%",M1=`_nghost-${lb}`,P1=`_ngcontent-${lb}`,x1=!0,k1=new U("",{providedIn:"root",factory:()=>x1});function O1(n){return P1.replace(yy,n)}function F1(n){return M1.replace(yy,n)}function db(n,e){return e.map(t=>t.replace(yy,n))}var vy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Xa(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ad?i.applyToHost(t):i instanceof ec&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Zn.Emulated:o=new Ad(u,l,r,this.appId,h,s,c,p,m);break;case Zn.ShadowDom:return new py(u,l,t,r,s,c,this.nonce,p,m);default:o=new ec(u,l,r,h,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(q(gy),q(my),q(od),q(k1),q(Be),q(kr),q(Ee),q(ad),q(Ri,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Xa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(hy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ub(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ub(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=hy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=hy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(t,r,i&In.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&In.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gt().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function ub(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var py=class extends Xa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=db(i.id,h);for(let m of h){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=fy(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ec=class extends Xa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?db(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ad=class extends ec{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,c,u,l,h),this.contentAttr=O1(h),this.hostAttr=F1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Nd=class n extends Ka{supportsDOMEvents=!0;static makeCurrent(){ay(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=L1();return t==null?null:V1(t)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ly(document.cookie,e)}},tc=null;function L1(){return tc=tc||document.head.querySelector("base"),tc?tc.getAttribute("href"):null}function V1(n){return new URL(n,document.baseURI).pathname}var j1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),fb=(()=>{class n extends Ja{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(q(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),hb=["alt","control","meta","shift"],U1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},pb=(()=>{class n extends Ja{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),hb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=U1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),hb.forEach(s=>{if(s!==i){let c=B1[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(q(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function _y(n,e){return YT(x({rootComponent:n},$1(e)))}function $1(n){return{appProviders:[...W1,...n?.providers??[]],platformProviders:G1}}function H1(){Nd.makeCurrent()}function z1(){return new Jt}function q1(){return _m(document),document}var G1=[{provide:kr,useValue:ib},{provide:sd,useValue:H1,multi:!0},{provide:Be,useFactory:q1}];var W1=[{provide:Ea,useValue:"root"},{provide:Jt,useFactory:z1},{provide:Rd,useClass:fb,multi:!0,deps:[Be]},{provide:Rd,useClass:pb,multi:!0,deps:[Be]},vy,my,gy,{provide:Ti,useExisting:vy},{provide:Za,useClass:j1},[]];var gb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(q(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X="primary",pc=Symbol("RouteTitle"),Cy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Oi(n){return new Cy(n)}function Db(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Q1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bn(n[t],e[t]))return!1;return!0}function bn(n,e){let t=n?Ty(n):void 0,r=e?Ty(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Cb(n[i],e[i]))return!1;return!0}function Ty(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Cb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Tb(n){return n.length>0?n[n.length-1]:null}function nr(n){return Mp(n)?n:Fr(n)?Ce(Promise.resolve(n)):z(n)}var Y1={exact:Sb,subset:Ab},bb={exact:Z1,subset:J1,ignored:()=>!0};function mb(n,e,t){return Y1[t.paths](n.root,e.root,t.matrixParams)&&bb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Z1(n,e){return bn(n,e)}function Sb(n,e,t){if(!xi(n.segments,e.segments)||!xd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Sb(n.children[r],e.children[r],t))return!1;return!0}function J1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Cb(n[t],e[t]))}function Ab(n,e,t){return Rb(n,e,e.segments,t)}function Rb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!xi(i,t)||e.hasChildren()||!xd(i,t,r))}else if(n.segments.length===t.length){if(!xi(n.segments,t)||!xd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Ab(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!xi(n.segments,i)||!xd(n.segments,i,r)||!n.children[X]?!1:Rb(n.children[X],e,o,r)}}function xd(n,e,t){return e.every((r,i)=>bb[t](n[i].parameters,r.parameters))}var An=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){return tF.serialize(this)}},me=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kd(this)}},Ur=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Oi(this.parameters),this._parameterMap}toString(){return Mb(this)}};function X1(n,e){return xi(n,e)&&n.every((t,r)=>bn(t.parameters,e[r].parameters))}function xi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function eF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===X&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==X&&(t=t.concat(e(i,r)))}),t}var Fi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new Br,providedIn:"root"})}return n})(),Br=class{parse(e){let t=new Sy(e);return new An(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${nc(e.root,!0)}`,r=iF(e.queryParams),i=typeof e.fragment=="string"?`#${nF(e.fragment)}`:"";return`${t}${r}${i}`}},tF=new Br;function kd(n){return n.segments.map(e=>Mb(e)).join("/")}function nc(n,e){if(!n.hasChildren())return kd(n);if(e){let t=n.children[X]?nc(n.children[X],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${nc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=eF(n,(r,i)=>i===X?[nc(n.children[X],!1)]:[`${i}:${nc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[X]!=null?`${kd(n)}/${t[0]}`:`${kd(n)}/(${t.join("//")})`}}function Nb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Md(n){return Nb(n).replace(/%3B/gi,";")}function nF(n){return encodeURI(n)}function by(n){return Nb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Od(n){return decodeURIComponent(n)}function yb(n){return Od(n.replace(/\+/g,"%20"))}function Mb(n){return`${by(n.path)}${rF(n.parameters)}`}function rF(n){return Object.entries(n).map(([e,t])=>`;${by(e)}=${by(t)}`).join("")}function iF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Md(t)}=${Md(i)}`).join("&"):`${Md(t)}=${Md(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var oF=/^[^\/()?;#]+/;function Ey(n){let e=n.match(oF);return e?e[0]:""}var sF=/^[^\/()?;=#]+/;function aF(n){let e=n.match(sF);return e?e[0]:""}var cF=/^[^=?&#]+/;function uF(n){let e=n.match(cF);return e?e[0]:""}var lF=/^[^&#]+/;function dF(n){let e=n.match(lF);return e?e[0]:""}var Sy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[X]=new me(e,t)),r}parseSegment(){let e=Ey(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Ur(Od(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ey(this.remaining);i&&(r=i,this.capture(r))}e[Od(t)]=Od(r)}parseQueryParam(e){let t=uF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=dF(this.remaining);s&&(r=s,this.capture(r))}let i=yb(t),o=yb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ey(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[X]:new me([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function Pb(n){return n.segments.length>0?new me([],{[X]:n}):n}function xb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=xb(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new me(n.segments,e);return hF(t)}function hF(n){if(n.numberOfChildren===1&&n.children[X]){let e=n.children[X];return new me(n.segments.concat(e.segments),e.children)}return n}function $r(n){return n instanceof An}function kb(n,e,t=null,r=null){let i=Ob(n);return Fb(i,e,t,r)}function Ob(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new me(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=Pb(r);return e??i}function Fb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Iy(i,i,i,t,r);let o=fF(e);if(o.toRoot())return Iy(i,i,new me([],{}),t,r);let s=pF(o,i,n),c=s.processChildren?ic(s.segmentGroup,s.index,o.commands):Vb(s.segmentGroup,s.index,o.commands);return Iy(i,s.segmentGroup,c,t,r)}function Fd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function sc(n){return typeof n=="object"&&n!=null&&n.outlets}function Iy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=Lb(n,e,t);let c=Pb(xb(s));return new An(c,o,i)}function Lb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Lb(o,e,t)}),new me(n.segments,r)}var Ld=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fd(r[0]))throw new V(4003,!1);let i=r.find(sc);if(i&&i!==Tb(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ld(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Ld(t,e,r)}var Wo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function pF(n,e,t){if(n.isAbsolute)return new Wo(e,!0,0);if(!t)return new Wo(e,!1,NaN);if(t.parent===null)return new Wo(t,!0,0);let r=Fd(n.commands[0])?0:1,i=t.segments.length-1+r;return gF(t,i,n.numberOfDoubleDots)}function gF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new Wo(r,!1,i-o)}function mF(n){return sc(n[0])?n[0].outlets:{[X]:n}}function Vb(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return ic(n,e,t);let r=yF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new me(n.segments.slice(0,r.pathIndex),{});return o.children[X]=new me(n.segments.slice(r.pathIndex),n.children),ic(o,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?Ay(n,e,t):r.match?ic(n,0,i):Ay(n,e,t)}function ic(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=mF(t),i={};if(Object.keys(r).some(o=>o!==X)&&n.children[X]&&n.numberOfChildren===1&&n.children[X].segments.length===0){let o=ic(n.children[X],e,t);return new me(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Vb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(n.segments,i)}}function yF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(sc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_b(u,l,s))return o;r+=2}else{if(!_b(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ay(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(sc(o)){let u=vF(o.outlets);return new me(r,u)}if(i===0&&Fd(t[0])){let u=n.segments[e];r.push(new Ur(u.path,vb(t[0]))),i++;continue}let s=sc(o)?o.outlets[X]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Fd(c)?(r.push(new Ur(s,vb(c))),i+=2):(r.push(new Ur(s,{})),i++)}return new me(r,{})}function vF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ay(new me([],{}),0,r))}),e}function vb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _b(n,e,t){return n==t.path&&bn(e,t.parameters)}var Ko="imperative",Ke=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ke||{}),Lt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Hr=class extends Lt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vt=class extends Lt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(wt||{}),Yo=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Yo||{}),Sn=class extends Lt{reason;code;type=Ke.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rn=class extends Lt{reason;code;type=Ke.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Zo=class extends Lt{error;target;type=Ke.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ac=class extends Lt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends Lt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class extends Lt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ud=class extends Lt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends Lt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class{route;type=Ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hd=class{route;type=Ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zd=class{snapshot;type=Ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=Ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{snapshot;type=Ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{snapshot;type=Ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jo=class{routerEvent;position;anchor;type=Ke.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cc=class{},Xo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _F(n){return!(n instanceof cc)&&!(n instanceof Xo)}function EF(n,e){return n.providers&&!n._injector&&(n._injector=Uo(n.providers,e,`Route: ${n.path}`)),n._injector??e}function cn(n){return n.outlet||X}function IF(n,e){let t=n.filter(r=>cn(r)===e);return t.push(...n.filter(r=>cn(r)!==e)),t}function gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Kd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Li(this.rootInjector)}},Li=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(q(Oe))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ry(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ry(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ny(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ny(e,this._root).map(t=>t.value)}};function Ry(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ry(n,t);if(r)return r}return null}function Ny(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ny(n,t);if(r.length)return r.unshift(e),r}return[]}var Ft=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Go(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uc=class extends Qd{snapshot;constructor(e,t){super(e),this.snapshot=t,Vy(this,e)}toString(){return this.snapshot.toString()}};function jb(n){let e=wF(n),t=new it([new Ur("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),c=new Nn(t,r,o,s,i,X,n,e.root);return c.snapshot=e.root,new uc(new Ft(c,[]),e)}function wF(n){let e={},t={},r={},i="",o=new ki([],e,r,i,t,X,n,null,{});return new lc("",new Ft(o,[]))}var Nn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(l=>l[pc]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Oi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Oi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&Bb(i)&&(r.resolve[pc]=i.title),r}var ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lc=class extends Qd{url;constructor(e,t){super(t),this.url=e,Vy(this,t)}toString(){return Ub(this._root)}};function Vy(n,e){e.value._routerState=n,e.children.forEach(t=>Vy(n,t))}function Ub(n){let e=n.children.length>0?` { ${n.children.map(Ub).join(", ")} } `:"";return`${n.value}${e}`}function wy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),bn(e.params,t.params)||n.paramsSubject.next(t.params),Q1(e.url,t.url)||n.urlSubject.next(t.url),bn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function My(n,e){let t=bn(n.params,e.params)&&X1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||My(n.parent,e.parent))}function Bb(n){return typeof n.title=="string"||n.title===null}var $b=new U(""),mc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=X;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=KT(void 0);parentContexts=R(Li);location=R(Xn);changeDetector=R(Pi);inputBinder=R(yc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Py(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Dn]})}return n})(),Py=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Nn?this.route:e===Li?this.childContexts:e===$b?this.outletData:this.parent.get(e,t)}},yc=new U(""),jy=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ua([r.queryParams,r.params,r.data]).pipe(Mt(([o,s,c],u)=>(c=x(x(x({},o),s),c),u===0?z(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=ZT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Uy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=We({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&It(0,"router-outlet")},dependencies:[mc],encapsulation:2})}return n})();function By(n){let e=n.children&&n.children.map(By),t=e?Y(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==X&&(t.component=Uy),t}function DF(n,e,t){let r=dc(n,e._root,t?t._root:void 0);return new uc(r,e)}function dc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=CF(n,e,t);return new Ft(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>dc(n,c)),s}}let r=TF(e.value),i=e.children.map(o=>dc(n,o));return new Ft(r,i)}}function CF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dc(n,r,i);return dc(n,r)})}function TF(n){return new Nn(new it(n.url),new it(n.params),new it(n.queryParams),new it(n.fragment),new it(n.data),n.outlet,n.component,n)}var es=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Hb="ngNavigationCancelingError";function Zd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=$r(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zb(!1,wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function zb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Hb]=!0,t.cancellationCode=e,t}function bF(n){return qb(n)&&$r(n.url)}function qb(n){return!!n&&n[Hb]}var SF=(n,e,t,r)=>se(i=>(new xy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),xy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Go(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Go(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Go(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Go(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new qd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(wy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),wy(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function AF(n,e,t){let r=n._root,i=e?e._root:null;return rc(r,i,t,[r.value])}function RF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Kp(n)?n:e.get(n):r}function rc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Go(e);return n.children.forEach(s=>{NF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>oc(c,t.getContext(s),i)),i}function NF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=MF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?rc(n,e,c?c.children:null,r,i):rc(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Qo(c.outlet.component,s))}else s&&oc(e,c,i),i.canActivateChecks.push(new Jd(r)),o.component?rc(n,null,c?c.children:null,r,i):rc(n,null,t,r,i);return i}function MF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!xi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xi(n.url,e.url)||!bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!My(n,e)||!bn(n.queryParams,e.queryParams);case"paramsChange":default:return!My(n,e)}}function oc(n,e,t){let r=Go(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?oc(s,e.children.getContext(o),t):oc(s,null,t):oc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Qo(e.outlet.component,i)):t.canDeactivateChecks.push(new Qo(null,i)):t.canDeactivateChecks.push(new Qo(null,i))}function vc(n){return typeof n=="function"}function PF(n){return typeof n=="boolean"}function xF(n){return n&&vc(n.canLoad)}function kF(n){return n&&vc(n.canActivate)}function OF(n){return n&&vc(n.canActivateChild)}function FF(n){return n&&vc(n.canDeactivate)}function LF(n){return n&&vc(n.canMatch)}function Gb(n){return n instanceof $n||n?.name==="EmptyError"}var Pd=Symbol("INITIAL_VALUE");function ts(){return Mt(n=>ua(n.map(e=>e.pipe(zn(1),dl(Pd)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===Pd)return Pd;if(t===!1||VF(t))return t}return!0}),vt(e=>e!==Pd),zn(1)))}function VF(n){return $r(n)||n instanceof es}function jF(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(Y(x({},t),{guardsResult:!0})):UF(s,r,i,n).pipe(ke(c=>c&&PF(c)?BF(r,o,n,e):z(c)),se(c=>Y(x({},t),{guardsResult:c})))})}function UF(n,e,t,r){return Ce(n).pipe(ke(i=>GF(i.component,i.route,t,e,r)),qn(i=>i!==!0,!0))}function BF(n,e,t,r){return Ce(e).pipe(Ir(i=>Do(HF(i.route.parent,r),$F(i.route,r),qF(n,i.path,t),zF(n,i.route,t))),qn(i=>i!==!0,!0))}function $F(n,e){return n!==null&&e&&e(new Gd(n)),z(!0)}function HF(n,e){return n!==null&&e&&e(new zd(n)),z(!0)}function zF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>la(()=>{let s=gc(e)??t,c=ns(o,s),u=kF(c)?c.canActivate(e,n):Je(s,()=>c(e,n));return nr(u).pipe(qn())}));return z(i).pipe(ts())}function qF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>RF(s)).filter(s=>s!==null).map(s=>la(()=>{let c=s.guards.map(u=>{let l=gc(s.node)??t,h=ns(u,l),p=OF(h)?h.canActivateChild(r,n):Je(l,()=>h(r,n));return nr(p).pipe(qn())});return z(c).pipe(ts())}));return z(o).pipe(ts())}function GF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(c=>{let u=gc(e)??i,l=ns(c,u),h=FF(l)?l.canDeactivate(n,e,t,r):Je(u,()=>l(n,e,t,r));return nr(h).pipe(qn())});return z(s).pipe(ts())}function WF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let c=ns(s,n),u=xF(c)?c.canLoad(e,t):Je(n,()=>c(e,t));return nr(u)});return z(o).pipe(ts(),Wb(r))}function Wb(n){return zu(Ye(e=>{if(typeof e!="boolean")throw Zd(n,e)}),se(e=>e===!0))}function KF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let c=ns(s,n),u=LF(c)?c.canMatch(e,t):Je(n,()=>c(e,t));return nr(u)});return z(o).pipe(ts(),Wb(r))}var hc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function qo(n){return wo(new hc(n))}function QF(n){return wo(new V(4e3,!1))}function YF(n){return wo(zb(!1,wt.GuardRejected))}var ky=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[X])return QF(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,t,r,i,o){return ZF(t,i,o).pipe(se(s=>{if(s instanceof An)throw new fc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new fc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new An(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function ZF(n,e,t){if(typeof n=="string")return z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:h,title:p}=e;return nr(Je(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var Oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JF(n,e,t,r,i){let o=Kb(n,e,t);return o.matched?(r=EF(e,r),KF(r,e,t,i).pipe(se(s=>s===!0?o:x({},Oy)))):z(o)}function Kb(n,e,t){if(e.path==="**")return XF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},Oy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Db)(t,n,e);if(!i)return x({},Oy);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XF(n){return{matched:!0,parameters:n.length>0?Tb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Eb(n,e,t,r){return t.length>0&&nL(n,t,r)?{segmentGroup:new me(e,tL(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&rL(n,t,r)?{segmentGroup:new me(n.segments,eL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function eL(n,e,t,r){let i={};for(let o of t)if(eh(n,e,o)&&!r[cn(o)]){let s=new me([],{});i[cn(o)]=s}return x(x({},r),i)}function tL(n,e){let t={};t[X]=e;for(let r of n)if(r.path===""&&cn(r)!==X){let i=new me([],{});t[cn(r)]=i}return t}function nL(n,e,t){return t.some(r=>eh(n,e,r)&&cn(r)!==X)}function rL(n,e,t){return t.some(r=>eh(n,e,r))}function eh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function iL(n,e,t){return e.length===0&&!n.children[t]}var Fy=class{};function oL(n,e,t,r,i,o,s="emptyOnly"){return new Ly(n,e,t,r,i,s,o).recognize()}var sL=31,Ly=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new ky(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=Eb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new Ft(r,t),o=new lc("",i),s=kb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ki([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,t).pipe(se(r=>({children:r,rootSnapshot:t})),Hn(r=>{if(r instanceof fc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(se(s=>s instanceof Ft?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(Ir(s=>{let c=r.children[s],u=IF(t,s);return this.processSegmentGroup(e,u,c,s,i)}),ll((s,c)=>(s.push(...c),s)),wr(null),xp(),ke(s=>{if(s===null)return qo(r);let c=Qb(s);return aL(c),z(c)}))}processSegment(e,t,r,i,o,s,c){return Ce(t).pipe(Ir(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Hn(l=>{if(l instanceof hc)return z(null);throw l}))),qn(u=>!!u),Hn(u=>{if(Gb(u))return iL(r,i,o)?z(new Fy):qo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return cn(r)!==s&&(s===X||!eh(i,o,r))?qo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):qo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Kb(t,i,o);if(!u)return qo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sL&&(this.allowRedirects=!1));let y=new ki(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Ib(i),cn(i),i.component??i._loadedComponent??null,i,wb(i)),A=Yd(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Mt(N=>this.applyRedirects.lineralizeSegments(i,N)),ke(N=>this.processSegment(e,r,t,N.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=JF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Mt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new ki(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Ib(r),cn(r),r.component??r._loadedComponent??null,r,wb(r)),P=Yd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:F}=Eb(t,m,y,l);if(F.length===0&&N.hasChildren())return this.processChildren(h,l,N,A).pipe(se(te=>new Ft(A,te)));if(l.length===0&&F.length===0)return z(new Ft(A,[]));let ie=cn(r)===o;return this.processSegment(h,l,N,F,ie?X:o,!0,A).pipe(se(te=>new Ft(A,te instanceof Ft?[te]:[])))}))):qo(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):WF(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):YF(t))):z({routes:[],injector:e})}};function aL(n){n.sort((e,t)=>e.value.outlet===X?-1:t.value.outlet===X?1:e.value.outlet.localeCompare(t.value.outlet))}function cL(n){let e=n.value.routeConfig;return e&&e.path===""}function Qb(n){let e=[],t=new Set;for(let r of n){if(!cL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Qb(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!t.has(r))}function Ib(n){return n.data||{}}function wb(n){return n.resolve||{}}function uL(n,e,t,r,i,o){return ke(s=>oL(n,e,t,r,s.extractedUrl,i,o).pipe(se(({state:c,tree:u})=>Y(x({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function lL(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Yb(u))s.add(l);let c=0;return Ce(s).pipe(Ir(u=>o.has(u)?dL(u,r,n,e):(u.data=Yd(u,u.parent,n).resolve,z(void 0))),Ye(()=>c++),Co(1),ke(u=>c===s.size?z(t):Ct))})}function Yb(n){let e=n.children.map(t=>Yb(t)).flat();return[n,...e]}function dL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Bb(i)&&(o[pc]=i.title),la(()=>(n.data=Yd(n,n.parent,t).resolve,hL(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=x(x({},n.data),s),null)))))}function hL(n,e,t,r){let i=Ty(n);if(i.length===0)return z({});let o={};return Ce(i).pipe(ke(s=>fL(n[s],e,t,r).pipe(qn(),Ye(c=>{if(c instanceof es)throw Zd(new Br,c);o[s]=c}))),Co(1),se(()=>o),Hn(s=>Gb(s)?Ct:wo(s)))}function fL(n,e,t,r){let i=gc(e)??r,o=ns(n,i),s=o.resolve?o.resolve(e,t):Je(i,()=>o(e,t));return nr(s)}function Dy(n){return Mt(e=>{let t=n(e);return t?Ce(t).pipe(se(()=>e)):z(e)})}var $y=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(t){return t.data[pc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>R(Zb),providedIn:"root"})}return n})(),Zb=(()=>{class n extends $y{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(q(gb))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zr=new U("",{providedIn:"root",factory:()=>({})}),Vi=new U(""),th=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=R(Xm);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=nr(t.loadComponent()).pipe(se(Xb),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),da(()=>{this.componentLoaders.delete(t)})),i=new vo(r,()=>new xe).pipe(yo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Jb(r,this.compiler,t,this.onLoadEndListener).pipe(da(()=>{this.childrenLoaders.delete(r)})),s=new vo(o,()=>new xe).pipe(yo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jb(n,e,t,r){return nr(n.loadChildren()).pipe(se(Xb),ke(i=>i instanceof fd||Array.isArray(i)?z(i):Ce(e.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Vi,[],{optional:!0,self:!0}).flat()),{routes:s.map(By),injector:o}}))}function pL(n){return n&&typeof n=="object"&&"default"in n}function Xb(n){return pL(n)?n.default:n}var nh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>R(gL),providedIn:"root"})}return n})(),gL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hy=new U(""),zy=new U("");function e0(n,e,t){let r=n.get(zy),i=n.get(Be);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),mL(n))),{onViewTransitionCreated:u}=r;return u&&Je(n,()=>u({transition:c,from:e,to:t})),s}function mL(n){return new Promise(e=>{gd({read:()=>setTimeout(e)},{injector:n})})}var qy=new U(""),rh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new xe;transitionAbortWithErrorSubject=new xe;configLoader=R(th);environmentInjector=R(Oe);destroyRef=R(Mr);urlSerializer=R(Fi);rootContexts=R(Li);location=R(Vr);inputBindingEnabled=R(yc,{optional:!0})!==null;titleStrategy=R($y);options=R(zr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=R(nh);createViewTransition=R(Hy,{optional:!0});navigationErrorHandler=R(qy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new $d(i)),r=i=>this.events.next(new Hd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Y(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new it(null),this.transitions.pipe(vt(r=>r!==null),Mt(r=>{let i=!1;return z(r).pipe(Mt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),Ct;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Y(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload"){let u="";return this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.rawUrl),u,Yo.IgnoredSameUrlNavigation)),o.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(Mt(u=>(this.events.next(new Hr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ct:Promise.resolve(u))),uL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Y(x({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new ac(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Hr(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let A=jb(this.rootComponentType).snapshot;return this.currentTransition=r=Y(x({},o),{targetSnapshot:A,urlAfterRedirects:l,extras:Y(x({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,z(r)}else{let u="";return this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Yo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ct}}),Ye(o=>{let s=new Vd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),se(o=>(this.currentTransition=r=Y(x({},o),{guards:AF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),jF(this.environmentInjector,o=>this.events.next(o)),Ye(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Zd(this.urlSerializer,o.guardsResult);let s=new jd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),vt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",wt.GuardRejected),!1)),Dy(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(Ye(s=>{let c=new Ud(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Mt(s=>{let c=!1;return z(s).pipe(lL(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",wt.NoDataFromResolver)}}))}),Ye(s=>{let c=new Bd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),Dy(o=>{let s=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ye(l=>{c.component=l}),se(()=>{})));for(let l of c.children)u.push(...s(l));return u};return ua(s(o.targetSnapshot.root)).pipe(wr(null),zn(1))}),Dy(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ce(c).pipe(se(()=>r)):z(r)}),se(o=>{let s=DF(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Y(x({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Ye(()=>{this.events.next(new cc)}),SF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),zn(1),hl(new J(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(vt(()=>!i&&!r.targetRouterState),Ye(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",wt.Aborted)}))),Ye({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),hl(this.transitionAbortWithErrorSubject.pipe(Ye(o=>{throw o}))),da(()=>{i||this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(o=>{if(this.destroyed)return r.resolve(!1),Ct;if(i=!0,qb(o))this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),bF(o)?this.events.next(new Xo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Zo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Je(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof es){let{message:u,cancellationCode:l}=Zd(this.urlSerializer,c);this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Xo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ct}))}))}cancelNavigationTransition(t,r,i){let o=new Sn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yL(n){return n!==Ko}var t0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>R(vL),providedIn:"root"})}return n})(),Xd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vL=(()=>{class n extends Xd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lo(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n0=(()=>{class n{urlSerializer=R(Fi);options=R(zr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=R(Vr);urlHandlingStrategy=R(nh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new An;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof An?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=jb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>R(_L),providedIn:"root"})}return n})(),_L=(()=>{class n extends n0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Hr?this.updateStateMemento():t instanceof Rn?this.commitTransition(r):t instanceof ac?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Sn&&t.code!==wt.SupersededByNewNavigation&&t.code!==wt.Redirect?this.restoreHistory(r):t instanceof Zo?this.restoreHistory(r,!0):t instanceof Vt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lo(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ih(n,e){n.events.pipe(vt(t=>t instanceof Vt||t instanceof Sn||t instanceof Zo||t instanceof Rn),se(t=>t instanceof Vt||t instanceof Rn?0:(t instanceof Sn?t.code===wt.Redirect||t.code===wt.SupersededByNewNavigation:!1)?2:1),vt(t=>t!==2),zn(1)).subscribe(()=>{e()})}var EL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=R(zm);stateManager=R(n0);options=R(zr,{optional:!0})||{};pendingTasks=R(Yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=R(rh);urlSerializer=R(Fi);location=R(Vr);urlHandlingStrategy=R(nh);injector=R(Oe);_events=new xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=R(t0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=R(Vi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!R(yc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sn&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vt)this.navigated=!0;else if(r instanceof Xo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yL(i.source)},s);this.scheduleNavigation(c,Ko,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_F(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.injector.get(At)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(By),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=Ob(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Fb(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=$r(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ko,null,r)}navigate(t,r={skipLocationChange:!1}){return wL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=x({},EL):r===!1?i=x({},IL):i=r,$r(t))return mb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return mb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let h=this.pendingTasks.add();return ih(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var rs=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_n(null);get href(){return qt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new xe;applicationErrorHandler=R(At);options=R(zr,{optional:!0});constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.reactiveHref.set(R(new _d("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Vt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($r(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:$r(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(re(un),re(Nn),La("tabindex"),re(Jn),re(Ot),re(an))};static \u0275dir=Xe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&tr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ha("href",i.reactiveHref(),Im)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ho],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ho],replaceUrl:[2,"replaceUrl","replaceUrl",Ho],routerLink:"routerLink"},features:[Dn]})}return n})(),Wy=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Fe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Vt&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Er()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ce(t).pipe(Er()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=DL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(re(un),re(Ot),re(Jn),re(Pi),re(rs,8))};static \u0275dir=Xe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Qm(o,rs,5),r&2){let s;Ym(s=Zm())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Dn]})}return n})();function DL(n){return!!n.paths}var _c=class{};var r0=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vt(t=>t instanceof Vt),Ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Uo(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ce(i).pipe(Er())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=z(null);let o=i.pipe(ke(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ce([o,s]).pipe(Er())}else return o})}static \u0275fac=function(r){return new(r||n)(q(un),q(Oe),q(_c),q(th))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),i0=new U(""),CL=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ko;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Rn&&t.code===Yo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Jo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Vm()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function Ky(n,...e){return Qn([{provide:Vi,multi:!0,useValue:n},[],{provide:Nn,useFactory:o0,deps:[un]},{provide:$a,multi:!0,useFactory:s0},e.map(t=>t.\u0275providers)])}function o0(n){return n.routerState.root}function Ec(n,e){return{\u0275kind:n,\u0275providers:e}}function s0(){let n=R(Ue);return e=>{let t=n.get(Ni);if(e!==t.components[0])return;let r=n.get(un),i=n.get(a0);n.get(Qy)===1&&r.initialNavigation(),n.get(l0,null,{optional:!0})?.setUpPreloading(),n.get(i0,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var a0=new U("",{factory:()=>new xe}),Qy=new U("",{providedIn:"root",factory:()=>1});function c0(){let n=[{provide:Qy,useValue:0},md(()=>{let e=R(Ue);return e.get(cy,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(un),o=e.get(a0);ih(i,()=>{r(!0)}),e.get(rh).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))})];return Ec(2,n)}function u0(){let n=[md(()=>{R(un).setUpLocationChangeListener()}),{provide:Qy,useValue:2}];return Ec(3,n)}var l0=new U("");function d0(n){return Ec(0,[{provide:l0,useExisting:r0},{provide:_c,useExisting:n}])}function h0(){return Ec(8,[jy,{provide:yc,useExisting:jy}])}function f0(n){jo("NgRouterViewTransitions");let e=[{provide:Hy,useValue:e0},{provide:zy,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ec(9,e)}var p0=[Vr,{provide:Fi,useClass:Br},un,Li,{provide:Nn,useFactory:o0,deps:[un]},th,[]],Ic=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[p0,[],{provide:Vi,multi:!0,useValue:t},[],r?.errorHandler?{provide:qy,useValue:r.errorHandler}:[],{provide:zr,useValue:r||{}},r?.useHash?bL():SL(),TL(),r?.preloadingStrategy?d0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?AL(r):[],r?.bindToComponentInputs?h0().\u0275providers:[],r?.enableViewTransitions?f0().\u0275providers:[],RL()]}}static forChild(t){return{ngModule:n,providers:[{provide:Vi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=Xt({})}return n})();function TL(){return{provide:i0,useFactory:()=>{let n=R(sb),e=R(Ee),t=R(zr),r=R(rh),i=R(Fi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new CL(i,r,n,e,t)}}}function bL(){return{provide:an,useClass:uy}}function SL(){return{provide:an,useClass:Dd}}function AL(n){return[n.initialNavigation==="disabled"?u0().\u0275providers:[],n.initialNavigation==="enabledBlocking"?c0().\u0275providers:[]]}var Gy=new U("");function RL(){return[{provide:Gy,useFactory:s0},{provide:$a,multi:!0,useExisting:Gy}]}var oh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-navbar"]],decls:12,vars:0,consts:[[1,"navbar"],["routerLink","/","routerLinkActive","active",1,"brand"],[1,"nav-links"],["routerLink","/about","routerLinkActive","active"],["routerLink","/projects","routerLinkActive","active"],["routerLink","/skills","routerLinkActive","active"],["routerLink","/contact","routerLinkActive","active"]],template:function(t,r){t&1&&($(0,"nav",0)(1,"a",1),K(2,"Home"),B(),$(3,"div",2)(4,"a",3),K(5,"About"),B(),$(6,"a",4),K(7,"Projects"),B(),$(8,"a",5),K(9,"Skills"),B(),$(10,"a",6),K(11,"Contact"),B()()())},dependencies:[Ic,rs,Wy],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#181c2f;padding:.75rem 2rem;box-shadow:0 2px 8px #0000002e}.brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:gold;letter-spacing:1px;text-decoration:none;transition:color .2s}.brand[_ngcontent-%COMP%]:hover{color:#f60}.nav-links[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e0e0e0;text-decoration:none;font-size:1.1rem;font-weight:500;padding-bottom:2px;border-bottom:2px solid transparent;transition:color .2s,border-bottom .2s}.nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gold;border-bottom:2px solid #ffd700}@media (max-width: 600px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:1rem}.nav-links[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;width:100%}.brand[_ngcontent-%COMP%]{margin-bottom:.5rem}}"]})};var sh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&It(0,"app-navbar")(1,"router-outlet")},dependencies:[Ic,mc,oh],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background:#181c2f;color:#e0e0e0;min-height:100vh;margin:0;font-family:Segoe UI,Roboto,Arial,sans-serif}.nav[_ngcontent-%COMP%]{background-color:#111;padding:1rem;text-align:center}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:0 1rem;text-decoration:none;font-weight:700}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f60}.nav[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:none;color:inherit}"]})};var ah=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"home-container","d-flex"],[1,"intro"],["routerLink","/projects",1,"btn"]],template:function(t,r){t&1&&($(0,"section",0)(1,"div",1)(2,"h1"),K(3,"Welcome to My Portfolio "),B(),$(4,"p"),K(5,"Hey, I'm "),$(6,"strong"),K(7,"Kago Kebonye"),B(),K(8," \u2014 a passionate developer building cool things with Angular."),B(),$(9,"a",2),K(10,"View My Work"),B()()())},styles:[".home-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80vh;background:linear-gradient(120deg,#181c2f,#232946);color:#f4f4f4;text-align:center;padding:2rem;border-radius:18px;box-shadow:0 8px 32px #1f26875e}.intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2rem;margin-bottom:1.2rem;font-weight:800;letter-spacing:1px;color:gold;text-shadow:2px 2px 8px #000a}.intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:2.2rem;color:#e0e0e0}.btn[_ngcontent-%COMP%]{display:inline-block;padding:.85rem 2rem;background:linear-gradient(90deg,#f60,gold);color:#181c2f;border-radius:10px;text-decoration:none;font-weight:700;font-size:1.1rem;box-shadow:0 2px 8px #0000001f;transition:background .3s,color .3s,transform .2s;border:none}.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,gold,#f60);color:#fff;transform:translateY(-2px) scale(1.04)}"]})};var ch=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-about"]],decls:5,vars:0,consts:[[1,"about"]],template:function(t,r){t&1&&($(0,"section",0)(1,"h2"),K(2,"About Me"),B(),$(3,"p"),K(4,"I'm a developer passionate about building smart, useful apps using Angular and modern web technologies."),B()())},styles:[".about[_ngcontent-%COMP%]{padding:2.5rem;text-align:center;background:#232946;border-radius:16px;box-shadow:0 4px 24px #1a29801a;margin:2rem auto;max-width:600px}.about[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:gold;margin-bottom:1.2rem;font-size:2.2rem;font-weight:700}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e0e0e0;font-size:1.2rem;line-height:1.7}"]})};var uh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-skills"]],decls:12,vars:0,consts:[[1,"skills"]],template:function(t,r){t&1&&($(0,"section",0)(1,"h2"),K(2,"My Skills"),B(),$(3,"ul")(4,"li"),K(5,"Angular"),B(),$(6,"li"),K(7,"TypeScript"),B(),$(8,"li"),K(9,"Firebase"),B(),$(10,"li"),K(11,"SCSS / CSS"),B()()())},styles:[".skills[_ngcontent-%COMP%]{padding:2.5rem;background:#232946;border-radius:16px;box-shadow:0 4px 24px #1a29801a;margin:2rem auto;max-width:600px;text-align:center}.skills[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f60;font-size:2rem;margin-bottom:1.2rem;font-weight:700}.skills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-wrap:wrap;justify-content:center;gap:.7rem}.skills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#181c2f;color:gold;padding:.5rem 1.2rem;border-radius:999px;font-size:1.05rem;font-weight:500;box-shadow:0 1px 4px #0000001a;margin:.2rem 0;transition:background .2s,color .2s}.skills[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f60;color:#fff}"]})};function NL(n,e){if(n&1&&($(0,"span",6),K(1),B()),n&2){let t=e.$implicit;Ae(),Bo(t)}}function ML(n,e){if(n&1&&($(0,"div",4),dt(1,NL,2,1,"span",5),B()),n&2){let t=Tn();Ae(),be("ngForOf",t.project.technologies)}}function PL(n,e){if(n&1&&($(0,"a",7),K(1," View on GitHub "),B()),n&2){let t=Tn();be("href",t.project.github,Ua)}}function xL(n,e){if(n&1&&It(0,"img",8),n&2){let t=Tn();be("src",t.project.image,Ua)}}var lh=class n{project;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=We({type:n,selectors:[["app-project-card"]],inputs:{project:"project"},decls:8,vars:5,consts:[[1,"project"],["class","tech-list",4,"ngIf"],["class","github-link","target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],["alt","Project image","class","project-img",3,"src",4,"ngIf"],[1,"tech-list"],["class","tech",4,"ngFor","ngForOf"],[1,"tech"],["target","_blank","rel","noopener noreferrer",1,"github-link",3,"href"],["alt","Project image",1,"project-img",3,"src"]],template:function(t,r){t&1&&($(0,"div",0)(1,"h3"),K(2),B(),$(3,"p"),K(4),B(),dt(5,ML,2,1,"div",1)(6,PL,2,1,"a",2)(7,xL,1,1,"img",3),B()),t&2&&(Ae(2),Bo(r.project.title),Ae(2),Bo(r.project.description),Ae(),be("ngIf",r.project.technologies==null?null:r.project.technologies.length),Ae(),be("ngIf",r.project.github),Ae(),be("ngIf",r.project.image))},dependencies:[jr,zo,Ya],styles:[".project[_ngcontent-%COMP%]{background:linear-gradient(90deg,#232946,#181c2f);padding:1.5rem 1.2rem;margin-bottom:1.5rem;border-left:5px solid #ff6600;border-radius:12px;box-shadow:0 2px 12px #00000021;transition:transform .2s,box-shadow .2s;position:relative}.project[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f60;margin-bottom:.6rem;font-size:1.35rem;font-weight:700;letter-spacing:.5px}.project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e0e0e0;font-size:1.08rem;line-height:1.6}.tech-list[_ngcontent-%COMP%]{margin:.7rem 0 .5rem}.tech[_ngcontent-%COMP%]{display:inline-block;background:#ffd70022;color:gold;font-size:.95rem;padding:.2rem .7rem;border-radius:8px;margin-right:.5rem;margin-bottom:.2rem}.github-link[_ngcontent-%COMP%]{display:inline-block;margin-top:.7rem;color:gold;text-decoration:underline;font-weight:600;font-size:1rem}.project-img[_ngcontent-%COMP%]{display:block;max-width:100%;margin-top:1rem;border-radius:8px;box-shadow:0 2px 8px #00000021}"]})};var m0=()=>{};var _0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Zy;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},OL=function(n){let e=_0(n);return dh.encodeByteArray(e,!0)},Dc=function(n){return OL(n).replace(/\./g,"")},hh=function(n){try{return dh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var FL=()=>Xy().__FIREBASE_DEFAULTS__,LL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&hh(n[1]);return e&&JSON.parse(e)},fh=()=>{try{return m0()||FL()||LL()||VL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E0=n=>{var e,t;return(t=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},I0=n=>{let e=E0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ev=()=>{var n;return(n=fh())===null||n===void 0?void 0:n.config},w0=n=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${n}`]};var ji=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function is(n){return n.endsWith(".cloudworkstations.dev")}function tv(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function D0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(t)),Dc(JSON.stringify(s)),""].join(".")}var wc={};function jL(){let n={prod:[],emulator:[]};for(let e of Object.keys(wc))wc[e]?n.emulator.push(e):n.prod.push(e);return n}function UL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var y0=!1;function nv(n,e){if(typeof window>"u"||typeof document>"u"||!is(window.location.host)||wc[n]===e||wc[n]||y0)return;wc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=jL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{y0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=UL(r),y=t("text"),A=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),ie=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let te=m.element;c(te),h(N,P);let Ie=l();u(ie,F),te.append(ie,A,N,Ie),document.body.appendChild(te)}o?(A.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function BL(){var n;let e=(n=fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function S0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A0(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cc(){try{return typeof indexedDB=="object"}catch{return!1}}function R0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var $L="FirebaseError",Wt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$L,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}},ln=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,c,r)}};function HL(n,e){return n.replace(zL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var zL=/\{\$([^}]+)}/g;function Ui(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(v0(o)&&v0(s)){if(!Ui(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function v0(n){return n!==null&&typeof n=="object"}function rv(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N0(n,e){let t=new Jy(n,e);return t.subscribe.bind(t)}var Jy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yy),i.error===void 0&&(i.error=Yy),i.complete===void 0&&(i.complete=Yy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yy(){}var gX=4*60*60*1e3;function rr(n){return n&&n._delegate?n._delegate:n}var Dt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bi="[DEFAULT]";var iv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ji;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WL(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GL(n){return n===Bi?void 0:n}function WL(n){return n.instantiationMode==="EAGER"}var ph=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new iv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var KL=[],ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ce||{}),QL={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},YL=ce.INFO,ZL={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},JL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ZL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mn=class{constructor(e){this.name=e,this._logLevel=YL,this._logHandler=JL,this._userLogHandler=null,KL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var XL=(n,e)=>e.some(t=>n instanceof t),M0,P0;function eV(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tV(){return P0||(P0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var x0=new WeakMap,sv=new WeakMap,k0=new WeakMap,ov=new WeakMap,cv=new WeakMap;function nV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Pn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&x0.set(t,n)}).catch(()=>{}),cv.set(e,n),e}function rV(n){if(sv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});sv.set(n,e)}var av={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||k0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function O0(n){av=n(av)}function iV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(gh(this),e,...t);return k0.set(r,e.sort?e.sort():[e]),Pn(r)}:tV().includes(n)?function(...e){return n.apply(gh(this),e),Pn(x0.get(this))}:function(...e){return Pn(n.apply(gh(this),e))}}function oV(n){return typeof n=="function"?iV(n):(n instanceof IDBTransaction&&rV(n),XL(n,eV())?new Proxy(n,av):n)}function Pn(n){if(n instanceof IDBRequest)return nV(n);if(ov.has(n))return ov.get(n);let e=oV(n);return e!==n&&(ov.set(n,e),cv.set(e,n)),e}var gh=n=>cv.get(n);function L0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Pn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Pn(s.result),u.oldVersion,u.newVersion,Pn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var sV=["get","getKey","getAll","getAllKeys","count"],aV=["put","add","delete","clear"],uv=new Map;function F0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=aV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sV.includes(t)))return;let o=function(s,...c){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return uv.set(e,o),o}O0(n=>Y(x({},n),{get:(e,t,r)=>F0(e,t)||n.get(e,t,r),has:(e,t)=>!!F0(e,t)||n.has(e,t)}));var dv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function cV(n){let e=n.getComponent();return e?.type==="VERSION"}var hv="@firebase/app",V0="0.13.1";var ir=new Mn("@firebase/app"),uV="@firebase/app-compat",lV="@firebase/analytics-compat",dV="@firebase/analytics",hV="@firebase/app-check-compat",fV="@firebase/app-check",pV="@firebase/auth",gV="@firebase/auth-compat",mV="@firebase/database",yV="@firebase/data-connect",vV="@firebase/database-compat",_V="@firebase/functions",EV="@firebase/functions-compat",IV="@firebase/installations",wV="@firebase/installations-compat",DV="@firebase/messaging",CV="@firebase/messaging-compat",TV="@firebase/performance",bV="@firebase/performance-compat",SV="@firebase/remote-config",AV="@firebase/remote-config-compat",RV="@firebase/storage",NV="@firebase/storage-compat",MV="@firebase/firestore",PV="@firebase/ai",xV="@firebase/firestore-compat",kV="firebase",OV="11.9.0";var fv="[DEFAULT]",FV={[hv]:"fire-core",[uV]:"fire-core-compat",[dV]:"fire-analytics",[lV]:"fire-analytics-compat",[fV]:"fire-app-check",[hV]:"fire-app-check-compat",[pV]:"fire-auth",[gV]:"fire-auth-compat",[mV]:"fire-rtdb",[yV]:"fire-data-connect",[vV]:"fire-rtdb-compat",[_V]:"fire-fn",[EV]:"fire-fn-compat",[IV]:"fire-iid",[wV]:"fire-iid-compat",[DV]:"fire-fcm",[CV]:"fire-fcm-compat",[TV]:"fire-perf",[bV]:"fire-perf-compat",[SV]:"fire-rc",[AV]:"fire-rc-compat",[RV]:"fire-gcs",[NV]:"fire-gcs-compat",[MV]:"fire-fst",[xV]:"fire-fst-compat",[PV]:"fire-vertex","fire-js":"fire-js",[kV]:"fire-js-all"};var Tc=new Map,LV=new Map,pv=new Map;function j0(n,e){try{n.container.addComponent(e)}catch(t){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(pv.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;pv.set(e,n);for(let t of Tc.values())j0(t,n);for(let t of LV.values())j0(t,n);return!0}function mh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}var VV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new ln("app","Firebase",VV);var gv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};var os=OV;function vv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:fv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(t||(t=ev()),!t)throw qr.create("no-options");let o=Tc.get(i);if(o){if(Ui(t,o.options)&&Ui(r,o.config))return o;throw qr.create("duplicate-app",{appName:i})}let s=new ph(i);for(let u of pv.values())s.addComponent(u);let c=new gv(t,r,s);return Tc.set(i,c),c}function ss(n=fv){let e=Tc.get(n);if(!e&&n===fv&&ev())return vv();if(!e)throw qr.create("no-app",{appName:n});return e}function yh(){return Array.from(Tc.values())}function Le(n,e,t){var r;let i=(r=FV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(c.join(" "));return}dn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jV="firebase-heartbeat-database",UV=1,bc="firebase-heartbeat-store",lv=null;function H0(){return lv||(lv=L0(jV,UV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw qr.create("idb-open",{originalErrorMessage:n.message})})),lv}function BV(n){return b(this,null,function*(){try{let t=(yield H0()).transaction(bc),r=yield t.objectStore(bc).get(z0(n));return yield t.done,r}catch(e){if(e instanceof Wt)ir.warn(e.message);else{let t=qr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(t.message)}}})}function U0(n,e){return b(this,null,function*(){try{let r=(yield H0()).transaction(bc,"readwrite");yield r.objectStore(bc).put(e,z0(n)),yield r.done}catch(t){if(t instanceof Wt)ir.warn(t.message);else{let r=qr.create("idb-set",{originalErrorMessage:t?.message});ir.warn(r.message)}}})}function z0(n){return`${n.name}!${n.options.appId}`}var $V=1024,HV=30,mv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new yv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=B0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>HV){let s=qV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=B0(),{heartbeatsToSend:r,unsentEntries:i}=zV(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}})}};function B0(){return new Date().toISOString().substring(0,10)}function zV(n,e=$V){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var yv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Cc()?R0().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield BV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return U0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return U0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $0(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function qV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function GV(n){dn(new Dt("platform-logger",e=>new dv(e),"PRIVATE")),dn(new Dt("heartbeat",e=>new mv(e),"PRIVATE")),Le(hv,V0,n),Le(hv,V0,"esm2017"),Le("fire-js","")}GV("");var WV="firebase",KV="11.9.0";Le(WV,KV,"app");function q0(n){n===void 0&&(n=R(Ue));let e=n.get(Po);return t=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Hi=new Mi("ANGULARFIRE2_VERSION");function _h(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var cs=(n,e)=>{let t=e?[e]:yh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},as=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(as||{}),G0=oy()&&typeof Zone<"u"?as.WARN:as.SILENT;var vh=class{zone;delegate;constructor(e,t=Rp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},zi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=R(Ee);this.outsideAngular=t.runOutsideAngular(()=>new vh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new vh(typeof Zone>"u"?void 0:Zone.current,Ap))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W0=!1;function QV(n,e){!W0&&(G0>as.SILENT||oy())&&(W0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),G0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function YV(n){let e=R(Ee,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function $i(n){let e=R(Ee,{optional:!0});return e?e.run(()=>n()):n()}var ZV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Je(t,()=>$i(()=>n.apply(void 0,r)))),Gr=(n,e,t)=>(t||=e?as.WARN:as.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=R(zi),s=R(Po),c=R(Oe)}catch{return QV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=$i(()=>s.add())),i[l]=ZV(i[l],r,c));let u=YV(()=>n.apply(this,i));return e?u instanceof J?u.pipe(_r(o.outsideAngular),vr(o.insideAngular),q0(c)):u instanceof Promise?$i(()=>(s.run(()=>u),new Promise((l,h)=>{u.then(p=>Je(c,()=>$i(()=>l(p))),p=>Je(c,()=>$i(()=>h(p))))}))):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:$i(()=>u):u instanceof J?u.pipe(_r(o.outsideAngular),vr(o.insideAngular)):$i(()=>u)});var qi=class{constructor(e){return e}},Sc=class{constructor(){return yh()}};function JV(n){return n&&n.length===1?n[0]:new qi(ss())}var _v=new U("angularfire2._apps"),XV={provide:qi,useFactory:JV,deps:[[new wn,_v]]},e2={provide:Sc,deps:[[new wn,_v]]};function t2(n){return(e,t)=>{let r=t.get(kr);Le("angularfire",Hi.full,"core"),Le("angularfire",Hi.full,"app"),Le("angular",QT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new qi(i)}}function K0(n,...e){return Qn([XV,e2,{provide:_v,useFactory:t2(n),multi:!0,deps:[Ee,Ue,zi,...e]}])}var Q0=Gr(vv,!0);var n2=new Map,r2={activated:!1,tokenObservers:[]},i2={initialized:!1,enabled:!1};function hn(n){return n2.get(n)||Object.assign({},r2)}function X0(){return i2}var o2="https://content-firebaseappcheck.googleapis.com/v1";var s2="exchangeDebugToken",Y0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},vee=24*60*60*1e3;var wv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new ji,this.pending.promise.catch(t=>{}),yield a2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ji,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function a2(n){return new Promise(e=>{setTimeout(e,n)})}var c2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Wr=new ln("appCheck","AppCheck",c2);function eS(n){if(!hn(n).activated)throw Wr.create("use-before-activation",{appName:n.name})}function tS(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw Wr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Wr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Wr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function nS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${o2}/projects/${t}/apps/${r}:${s2}?key=${i}`,body:{debug_token:e}}}var u2="firebase-app-check-database",l2=1,Dv="firebase-app-check-store";var Eh=null;function d2(){return Eh||(Eh=new Promise((n,e)=>{try{let t=indexedDB.open(u2,l2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Wr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Dv,{keyPath:"compositeKey"})}}}catch(t){e(Wr.create("storage-open",{originalErrorMessage:t?.message}))}}),Eh)}function h2(n,e){return f2(p2(n),e)}function f2(n,e){return b(this,null,function*(){let r=(yield d2()).transaction(Dv,"readwrite"),o=r.objectStore(Dv).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Wr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function p2(n){return`${n.options.appId}-${n.name}`}var Ac=new Mn("@firebase/app-check");function Ev(n,e){return Cc()?h2(n,e).catch(t=>{Ac.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rS(){return X0().enabled}function iS(){return b(this,null,function*(){let n=X0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var g2={error:"UNKNOWN_ERROR"};function m2(n){return dh.encodeString(JSON.stringify(n),!1)}function Cv(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;eS(r);let i=hn(r),o=i.token,s;if(o&&!Rc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Rc(l)?o=l:yield Ev(r,void 0))}if(!e&&o&&Rc(o))return{token:o.token};let c=!1;if(rS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=tS(nS(r,yield iS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Ev(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ac.warn(l.message):t&&Ac.error(l),Iv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield hn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ac.warn(l.message):t&&Ac.error(l),s=l}let u;return o?s?Rc(o)?u={token:o.token,internalError:s}:u=Iv(s):(u={token:o.token},i.token=o,yield Ev(r,o)):u=Iv(s),c&&E2(r,u),u})}function y2(n){return b(this,null,function*(){let e=n.app;eS(e);let{provider:t}=hn(e);if(rS()){let r=yield iS(),{token:i}=yield tS(nS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function v2(n,e,t,r){let{app:i}=n,o=hn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Rc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),Z0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Z0(n))}function oS(n,e){let t=hn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Z0(n){let{app:e}=n,t=hn(e),r=t.tokenRefresher;r||(r=_2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function _2(n){let{app:e}=n;return new wv(()=>b(null,null,function*(){let t=hn(e),r;if(t.token?r=yield Cv(n,!0):r=yield Cv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=hn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Y0.RETRIAL_MIN_WAIT,Y0.RETRIAL_MAX_WAIT)}function E2(n,e){let t=hn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Rc(n){return n.expireTimeMillis-Date.now()>0}function Iv(n){return{token:m2(g2),error:n}}var Tv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=hn(this.app);for(let t of e)oS(this.app,t.next);return Promise.resolve()}};function I2(n,e){return new Tv(n,e)}function w2(n){return{getToken:e=>Cv(n,e),getLimitedUseToken:()=>y2(n),addTokenListener:e=>v2(n,"INTERNAL",e),removeTokenListener:e=>oS(n.app,e)}}var D2="@firebase/app-check",C2="0.10.0";var T2="app-check",J0="app-check-internal";function b2(){dn(new Dt(T2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return I2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(J0).initialize()})),dn(new Dt(J0,n=>{let e=n.getProvider("app-check").getImmediate();return w2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Le(D2,C2)}b2();var S2="app-check";var Ih=class{constructor(){return cs(S2)}};var A2=["localhost","0.0.0.0","127.0.0.1"],Mee=typeof window<"u"&&A2.includes(window.location.hostname);function fS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var pS=fS,gS=new ln("auth","Firebase",fS());var Th=new Mn("@firebase/auth");function N2(n,...e){Th.logLevel<=ce.WARN&&Th.warn(`Auth (${os}): ${n}`,...e)}function Dh(n,...e){Th.logLevel<=ce.ERROR&&Th.error(`Auth (${os}): ${n}`,...e)}function sS(n,...e){throw Lv(n,...e)}function Fv(n,...e){return Lv(n,...e)}function mS(n,e,t){let r=Object.assign(Object.assign({},pS()),{[e]:t});return new ln("auth","Firebase",r).create(e,{appName:n.name})}function Ch(n){return mS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gS.create(n,...e)}function ye(n,e,...t){if(!n)throw Lv(e,...t)}function Nc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dh(e),new Error(e)}function bh(n,e){n||Nc(e)}function M2(){return aS()==="http:"||aS()==="https:"}function aS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function P2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||b0()||"connection"in navigator)?navigator.onLine:!0}function x2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ki=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,bh(t>e,"Short delay should be less than long delay!"),this.isMobile=C0()||S0()}get(){return P2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function k2(n,e){bh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Sh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var O2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L2=new Ki(3e4,6e4);function yS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ph(o,s,c,u){return b(this,arguments,function*(n,e,t,r,i={}){return vS(n,i,()=>b(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=rv(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return T0()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&is(n.emulatorConfig.host)&&(y.credentials="include"),Sh.fetch()(yield _S(n,n.config.apiHost,t,p),y)}))})}function vS(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},O2),e);try{let i=new Av(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw wh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw mS(n,h,l);sS(n,h)}}catch(i){if(i instanceof Wt)throw i;sS(n,"network-request-failed",{message:String(i)})}})}function _S(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?k2(n.config,i):`${n.config.apiScheme}://${i}`;return F2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Av=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fv(this.auth,"network-request-failed")),L2.get())})}};function wh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fv(n,e,r);return i.customData._tokenResponse=t,i}function V2(n,e){return b(this,null,function*(){return Ph(n,"POST","/v1/accounts:delete",e)})}function Ah(n,e){return b(this,null,function*(){return Ph(n,"POST","/v1/accounts:lookup",e)})}function Mc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vv(n,e=!1){return b(this,null,function*(){let t=rr(n),r=yield t.getIdToken(e),i=ES(r);ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(bv(i.auth_time)),issuedAtTime:Mc(bv(i.iat)),expirationTime:Mc(bv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bv(n){return Number(n)*1e3}function ES(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{let i=hh(t);return i?JSON.parse(i):(Dh("Failed to decode base64 JWT payload"),null)}catch(i){return Dh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cS(n){let e=ES(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Rv(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Wt&&j2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function j2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Nv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rh(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Rv(n,Ah(t,{idToken:r}));ye(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?IS(o.providerUserInfo):[],c=U2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function jv(n){return b(this,null,function*(){let e=rr(n);yield Rh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function U2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IS(n){return n.map(e=>{var{providerId:t}=e,r=Np(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function B2(n,e){return b(this,null,function*(){let t=yield vS(n,{},()=>b(null,null,function*(){let r=rv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield _S(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Sh.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function $2(n,e){return b(this,null,function*(){return Ph(n,"POST","/v2/accounts:revokeToken",yS(n,e))})}var Pc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let t=cS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield B2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Nc("not implemented")}};function Kr(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Gi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield Rv(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Vv(this,e)}reload(){return jv(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(or(this.auth.app))return Promise.reject(Ch(this.auth));let e=yield this.getIdToken();return yield Rv(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,ie=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:te,emailVerified:Ie,isAnonymous:pt,providerData:ve,stsTokenManager:w}=t;ye(te&&w,e,"internal-error");let v=Pc.fromJSON(this.name,w);ye(typeof te=="string",e,"internal-error"),Kr(p,e.name),Kr(m,e.name),ye(typeof Ie=="boolean",e,"internal-error"),ye(typeof pt=="boolean",e,"internal-error"),Kr(y,e.name),Kr(A,e.name),Kr(P,e.name),Kr(N,e.name),Kr(F,e.name),Kr(ie,e.name);let E=new n({uid:te,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:pt,photoURL:A,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:F,lastLoginAt:ie});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Pc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];ye(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?IS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Pc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var uS=new Map;function Wi(n){bh(n instanceof Function,"Expected a class definition");let e=uS.get(n);return e?(bh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uS.set(n,e),e)}var H2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Mv=H2;function Sv(n,e,t){return`firebase:${n}:${e}:${t}`}var Nh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Sv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ah(this.auth,{idToken:e}).catch(()=>{});return t?Gi._fromGetAccountInfoResponse(this.auth,t,e):null}return Gi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(Wi(Mv),e,r);let i=(yield Promise.all(t.map(l=>b(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Wi(Mv),s=Sv(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Ah(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Gi._fromGetAccountInfoResponse(e,m,h)}else p=Gi._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>b(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function lS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q2(e))return"Blackberry";if(Y2(e))return"Webos";if(q2(e))return"Safari";if((e.includes("chrome/")||G2(e))&&!e.includes("edge/"))return"Chrome";if(K2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function z2(n=jt()){return/firefox\//i.test(n)}function q2(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G2(n=jt()){return/crios\//i.test(n)}function W2(n=jt()){return/iemobile/i.test(n)}function K2(n=jt()){return/android/i.test(n)}function Q2(n=jt()){return/blackberry/i.test(n)}function Y2(n=jt()){return/webos/i.test(n)}function wS(n,e=[]){let t;switch(n){case"Browser":t=lS(jt());break;case"Worker":t=`${lS(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${os}/${r}`}var Pv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Z2(t){return b(this,arguments,function*(n,e={}){return Ph(n,"GET","/v2/passwordPolicy",yS(n,e))})}var J2=6,xv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:J2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mh(this),this.idTokenSubscription=new Mh(this),this.beforeStateQueue=new Pv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Ah(this,{idToken:e}),r=yield Gi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(or(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Rh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=x2()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(or(this.app))return Promise.reject(Ch(this));let t=e?rr(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return or(this.app)?Promise.reject(Ch(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return or(this.app)?Promise.reject(Ch(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Wi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield Z2(this),t=new xv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Wi(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=yield Nh.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&N2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function X2(n){return rr(n)}var Mh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=N0(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ej={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tj(n){ej=n}function nj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function rj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Hee=nj("rcb"),zee=new Ki(3e4,6e4);var qee=new Ki(2e3,1e4);var Gee=10*60*1e3;var Wee=new Ki(3e4,6e4);var Kee=new Ki(5e3,15e3);var Qee=encodeURIComponent("fac");var dS="@firebase/auth",hS="1.10.6";var Ov=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ij(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oj(n){dn(new Dt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(n)},l=new kv(r,i,o,u);return rj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new Dt("auth-internal",e=>{let t=X2(e.getProvider("auth").getImmediate());return(r=>new Ov(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(dS,hS,ij(n)),Le(dS,hS,"esm2017")}var sj=5*60,Yee=w0("authIdTokenMaxAge")||sj;function aj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Fv("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",aj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oj("Browser");var oU="auth";var xh=class{constructor(){return cs(oU)}};var DS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CS={};var sr,Uv;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,T){for(var _=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)_[Vn-2]=arguments[Vn];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var T=w.g[3],_=v+(T^E&(D^T))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^T&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^T)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~T))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,T=0;T<v;){if(D==0)for(;T<=E;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<v;)if(I[D++]=w.charCodeAt(T++),D==this.blockSize){i(this,I),D=0;break}}else for(;T<v;)if(I[D++]=w[T++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var T=w[D]|0;I&&T==v||(E[D]=T,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return N(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return N(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var T=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+T),v);8>T?(T=l(Math.pow(v,T)),I=I.j(T).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(P(this))return"-"+N(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=Ie(E,v).g;E=F(E,D.j(v));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,A(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function P(w){return w.h==-1}n.l=function(w){return w=F(this,w),P(w)?-1:A(w)?0:1};function N(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return P(this)?N(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var T=I+(this.i(D)&65535)+(w.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,T&=65535,_&=65535,E[D]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(N(v))}n.j=function(w){if(A(this)||A(w))return p;if(P(this))return P(w)?N(this).j(N(w)):N(N(this).j(w));if(P(w))return N(this.j(N(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var T=this.i(I)>>>16,_=this.i(I)&65535,Vn=w.i(D)>>>16,js=w.i(D)&65535;E[2*I+2*D]+=_*js,ie(E,2*I+2*D),E[2*I+2*D+1]+=T*js,ie(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Vn,ie(E,2*I+2*D+1),E[2*I+2*D+2]+=T*Vn,ie(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function ie(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function te(w,v){this.g=w,this.h=v}function Ie(w,v){if(A(v))throw Error("division by zero");if(A(w))return new te(p,p);if(P(w))return v=Ie(N(w),v),new te(N(v.g),N(v.h));if(P(v))return v=Ie(w,N(v)),new te(N(v.g),v.h);if(30<w.g.length){if(P(w)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=pt(E),I=pt(I);var D=ve(E,1),T=ve(I,1);for(I=ve(I,2),E=ve(E,2);!A(I);){var _=T.add(I);0>=_.l(w)&&(D=D.add(E),T=_),I=ve(I,1),E=ve(E,1)}return v=F(w,D.j(v)),new te(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(E),_=T.j(v);P(_)||0<_.l(w);)E-=I,T=l(E),_=T.j(v);A(T)&&(T=m),D=D.add(T),w=F(w,_)}return new te(D,w)}n.A=function(w){return Ie(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function pt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],T=0;T<I;T++)D[T]=0<v?w.i(T+E)>>>v|w.i(T+E+1)<<32-v:w.i(T+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Uv=CS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,sr=CS.Integer=s}).apply(typeof DS<"u"?DS:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var Bv,sU,us,$v,kc,Oh,Hv,zv,qv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,S){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return d.prototype[C].apply(g,k)}}function P(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function N(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,S=g.length||0;a.length=C+S;for(let k=0;k<S;k++)a[C+k]=g[k]}else a.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ie(a){return/^[\s\xa0]*$/.test(a)}function te(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Ie(a){return Ie[" "](a),a}Ie[" "]=function(){};var pt=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ve(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function w(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function D(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Uf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,f){let g=js.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var js=new F(()=>new EN,a=>a.reset());class EN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Us,Bs=!1,Uf=new Vn,aI=()=>{let a=c.Promise.resolve(void 0);Us=()=>{a.then(IN)}};var IN=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){T(f)}var d=js;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Bs=!1};function fr(){this.s=this.s,this.C=this.C}fr.prototype.s=!1,fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var wN=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function $s(a,d){if(st.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(pt){e:{try{Ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:DN[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&$s.aa.h.call(this)}}A($s,st);var DN={2:"touch",3:"pen",4:"mouse"};$s.prototype.h=function(){$s.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Hs="closure_listenable_"+(1e6*Math.random()|0),CN=0;function TN(a,d,f,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++CN,this.da=this.fa=!1}function uu(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function lu(a){this.src=a,this.g={},this.h=0}lu.prototype.add=function(a,d,f,g,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=$f(a,d,g,C);return-1<k?(d=a[k],f||(d.fa=!1)):(d=new TN(d,this.src,S,!!g,C),d.fa=f,a.push(d)),d};function Bf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(uu(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function $f(a,d,f,g){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return C}return-1}var Hf="closure_lm_"+(1e6*Math.random()|0),zf={};function cI(a,d,f,g,C){if(g&&g.once)return lI(a,d,f,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)cI(a,d[S],f,g,C);return null}return f=Kf(f),a&&a[Hs]?a.K(d,f,l(g)?!!g.capture:!!g,C):uI(a,d,f,!1,g,C)}function uI(a,d,f,g,C,S){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,we=Gf(a);if(we||(a[Hf]=we=new lu(a)),f=we.add(d,f,g,k,S),f.proxy)return f;if(g=bN(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)wN||(C=k),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(hI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function bN(){function a(f){return d.call(a.src,a.listener,f)}let d=SN;return a}function lI(a,d,f,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)lI(a,d[S],f,g,C);return null}return f=Kf(f),a&&a[Hs]?a.L(d,f,l(g)?!!g.capture:!!g,C):uI(a,d,f,!0,g,C)}function dI(a,d,f,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)dI(a,d[S],f,g,C);else g=l(g)?!!g.capture:!!g,f=Kf(f),a&&a[Hs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=$f(S,f,g,C),-1<f&&(uu(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Gf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=$f(d,f,g,C)),(f=-1<a?d[a]:null)&&qf(f))}function qf(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Hs])Bf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(hI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Gf(d))?(Bf(f,a),f.h==0&&(f.src=null,d[Hf]=null)):uu(a)}}}function hI(a){return a in zf?zf[a]:zf[a]="on"+a}function SN(a,d){if(a.da)a=!0;else{d=new $s(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&qf(a),a=f.call(g,d)}return a}function Gf(a){return a=a[Hf],a instanceof lu?a:null}var Wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kf(a){return typeof a=="function"?a:(a[Wf]||(a[Wf]=function(d){return a.handleEvent(d)}),a[Wf])}function at(){fr.call(this),this.i=new lu(this),this.M=this,this.F=null}A(at,fr),at.prototype[Hs]=!0,at.prototype.removeEventListener=function(a,d,f,g){dI(this,a,d,f,g)};function gt(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new st(d,a);else if(d instanceof st)d.target=d.target||a;else{var C=d;d=new st(g,a),I(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];C=du(k,g,!0,d)&&C}if(k=d.g=a,C=du(k,g,!0,d)&&C,C=du(k,g,!1,d)&&C,f)for(S=0;S<f.length;S++)k=d.g=f[S],C=du(k,g,!1,d)&&C}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)uu(f[g]);delete a.g[d],a.h--}}this.F=null},at.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},at.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function du(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var we=k.listener,rt=k.ha||k.src;k.fa&&Bf(a.i,k),C=we.call(rt,g)!==!1&&C}}return C&&!g.defaultPrevented}function fI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function pI(a){a.g=fI(()=>{a.g=null,a.i&&(a.i=!1,pI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class AN extends fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:pI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(a){fr.call(this),this.h=a,this.g={}}A(zs,fr);var gI=[];function mI(a){ve(a.g,function(d,f){this.g.hasOwnProperty(f)&&qf(d)},a),a.g={}}zs.prototype.N=function(){zs.aa.N.call(this),mI(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qf=c.JSON.stringify,RN=c.JSON.parse,NN=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Yf(){}Yf.prototype.h=null;function yI(a){return a.h||(a.h=a.i())}function vI(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zf(){st.call(this,"d")}A(Zf,st);function Jf(){st.call(this,"c")}A(Jf,st);var ei={},_I=null;function hu(){return _I=_I||new at}ei.La="serverreachability";function EI(a){st.call(this,ei.La,a)}A(EI,st);function Gs(a){let d=hu();gt(d,new EI(d))}ei.STAT_EVENT="statevent";function II(a,d){st.call(this,ei.STAT_EVENT,a),this.stat=d}A(II,st);function mt(a){let d=hu();gt(d,new II(d,a))}ei.Ma="timingevent";function wI(a,d){st.call(this,ei.Ma,a),this.size=d}A(wI,st);function Ws(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ks(){this.g=!0}Ks.prototype.xa=function(){this.g=!1};function MN(a,d,f,g,C,S){a.info(function(){if(a.g)if(S)for(var k="",we=S.split("&"),rt=0;rt<we.length;rt++){var ge=we[rt].split("=");if(1<ge.length){var ct=ge[0];ge=ge[1];var ut=ct.split("_");k=2<=ut.length&&ut[1]=="type"?k+(ct+"="+ge+"&"):k+(ct+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function PN(a,d,f,g,C,S,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+k})}function ro(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+kN(a,f)+(g?" "+g:"")})}function xN(a,d){a.info(function(){return"TIMEOUT: "+d})}Ks.prototype.info=function(){};function kN(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Qf(f)}catch{return d}}var fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},DI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xf;function pu(){}A(pu,Yf),pu.prototype.g=function(){return new XMLHttpRequest},pu.prototype.i=function(){return{}},Xf=new pu;function pr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new CI}function CI(){this.i=null,this.g="",this.h=!1}var TI={},ep={};function tp(a,d,f){a.L=1,a.v=vu(jn(d)),a.m=f,a.P=!0,bI(a,null)}function bI(a,d){a.F=Date.now(),gu(a),a.A=jn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),UI(f.i,"t",g),a.C=0,f=a.j.J,a.h=new CI,a.g=iw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new AN(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(gI[0]=C.toString()),C=gI);for(var S=0;S<C.length;S++){var k=cI(f,C[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Gs(),MN(a.i,a.u,a.A,a.l,a.R,a.m)}pr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Un(a)==3?d.j():this.Y(a)},pr.prototype.Y=function(a){try{if(a==this.g)e:{let ut=Un(this.g);var d=this.g.Ba();let so=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||WI(this.g)))){this.J||ut!=4||d==7||(d==8||0>=so?Gs(3):Gs(2)),np(this);var f=this.g.Z();this.X=f;t:if(SI(this)){var g=WI(this.g);a="";var C=g.length,S=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ti(this),Qs(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,PN(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,rt=this.g;if((we=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(we)){var ge=we;break t}}ge=null}if(f=ge)ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rp(this,f);else{this.o=!1,this.s=3,mt(12),ti(this),Qs(this);break e}}if(this.P){f=!0;let Yt;for(;!this.J&&this.C<k.length;)if(Yt=ON(this,k),Yt==ep){ut==4&&(this.s=4,mt(14),f=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==TI){this.s=4,mt(15),ro(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ro(this.i,this.l,Yt,null),rp(this,Yt);if(SI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||k.length!=0||this.h.h||(this.s=1,mt(16),f=!1),this.o=this.o&&f,!f)ro(this.i,this.l,k,"[Invalid Chunked Response]"),ti(this),Qs(this);else if(0<k.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),up(ct),ct.M=!0,mt(11))}}else ro(this.i,this.l,k,null),rp(this,k);ut==4&&ti(this),this.o&&!this.J&&(ut==4?ew(this.j,this):(this.o=!1,gu(this)))}else JN(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),ti(this),Qs(this)}}}catch{}finally{}};function SI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ON(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?ep:(f=Number(d.substring(f,g)),isNaN(f)?TI:(g+=1,g+f>d.length?ep:(d=d.slice(g,g+f),a.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,ti(this)};function gu(a){a.S=Date.now()+a.I,AI(a,a.I)}function AI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ws(m(a.ba,a),d)}function np(a){a.B&&(c.clearTimeout(a.B),a.B=null)}pr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(xN(this.i,this.A),this.L!=2&&(Gs(),mt(17)),ti(this),this.s=2,Qs(this)):AI(this,this.S-a)};function Qs(a){a.j.G==0||a.J||ew(a.j,a)}function ti(a){np(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,mI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function rp(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||ip(f.h,a))){if(!a.K&&ip(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Du(f),Iu(f);else break e;cp(f),mt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ws(m(f.Za,f),6e3));if(1>=MI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ri(f,11)}else if((a.K||f.g==a)&&Du(f),!ie(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let ct=ge[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));let ut=ge[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));let so=ge[5];so!=null&&typeof so=="number"&&0<so&&(g=1.5*so,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Yt=a.g;if(Yt){let Tu=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tu){var S=g.h;S.g||Tu.indexOf("spdy")==-1&&Tu.indexOf("quic")==-1&&Tu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(op(S,S.h),S.h=null))}if(g.D){let lp=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;lp&&(g.ya=lp,Te(g.I,g.D,lp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=a;if(g.qa=rw(g,g.J?g.ia:null,g.W),k.K){PI(g.h,k);var we=k,rt=g.L;rt&&(we.I=rt),we.B&&(np(we),gu(we)),g.g=k}else JI(g);0<f.i.length&&wu(f)}else ge[0]!="stop"&&ge[0]!="close"||ri(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ri(f,7):ap(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Gs(4)}catch{}}var FN=class{constructor(a,d){this.g=a,this.map=d}};function RI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function MI(a){return a.h?1:a.g?a.g.size:0}function ip(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function op(a,d){a.g?a.g.add(d):a.h=d}function PI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}RI.prototype.cancel=function(){if(this.i=xI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function xI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return P(a.i)}function LN(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function VN(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function kI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=VN(a),g=LN(a),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],f&&f[S],a)}var OI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jN(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var S=a[f].substring(0,g);C=a[f].substring(g+1)}else S=a[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ni(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ni){this.h=a.h,mu(this,a.j),this.o=a.o,this.g=a.g,yu(this,a.s),this.l=a.l;var d=a.i,f=new Js;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),FI(this,f),this.m=a.m}else a&&(d=String(a).match(OI))?(this.h=!1,mu(this,d[1]||"",!0),this.o=Ys(d[2]||""),this.g=Ys(d[3]||"",!0),yu(this,d[4]),this.l=Ys(d[5]||"",!0),FI(this,d[6]||"",!0),this.m=Ys(d[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}ni.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Zs(d,LI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Zs(d,LI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Zs(f,f.charAt(0)=="/"?$N:BN,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Zs(f,zN)),a.join("")};function jn(a){return new ni(a)}function mu(a,d,f){a.j=f?Ys(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function yu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function FI(a,d,f){d instanceof Js?(a.i=d,qN(a.i,a.h)):(f||(d=Zs(d,HN)),a.i=new Js(d,a.h))}function Te(a,d,f){a.i.set(d,f)}function vu(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ys(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Zs(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,UN),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function UN(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var LI=/[#\/\?@]/g,BN=/[#\?:]/g,$N=/[#\?]/g,HN=/[#\?@]/g,zN=/#/g;function Js(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function gr(a){a.g||(a.g=new Map,a.h=0,a.i&&jN(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Js.prototype,n.add=function(a,d){gr(this),this.i=null,a=io(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function VI(a,d){gr(a),d=io(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function jI(a,d){return gr(a),d=io(a,d),a.g.has(d)}n.forEach=function(a,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(d,C,g,this)},this)},this)},n.na=function(){gr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=a[g];for(let S=0;S<C.length;S++)f.push(d[g])}return f},n.V=function(a){gr(this);let d=[];if(typeof a=="string")jI(this,a)&&(d=d.concat(this.g.get(io(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},n.set=function(a,d){return gr(this),this.i=null,a=io(this,a),jI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function UI(a,d,f){VI(a,d),0<f.length&&(a.i=null,a.g.set(io(a,d),P(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=S;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),a.push(C)}}return this.i=a.join("&")};function io(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function qN(a,d){d&&!a.j&&(gr(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(VI(this,g),UI(this,C,f))},a)),a.j=d}function GN(a,d){let f=new Ks;if(c.Image){let g=new Image;g.onload=y(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(mr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function WN(a,d){let f=new Ks,g=new AbortController,C=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),mr(f,"TestPingServer: error",!1,d)})}function mr(a,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function KN(){this.g=new NN}function QN(a,d,f){let g=f||"";try{kI(a,function(C,S){let k=C;l(C)&&(k=Qf(C)),d.push(g+S+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Xs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Xs,Yf),Xs.prototype.g=function(){return new _u(this.l,this.j)},Xs.prototype.i=function(a){return function(){return a}}({});function _u(a,d){at.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(_u,at),n=_u.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ta(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function BI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ea(this):ta(this),this.readyState==3&&BI(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ea(this))},n.Qa=function(a){this.g&&(this.response=a,ea(this))},n.ga=function(){this.g&&ea(this)};function ea(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ta(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function ta(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function $I(a){let d="";return ve(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function sp(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=$I(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Te(a,d,f))}function Me(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Me,at);var YN=/^https?$/i,ZN=["POST","PUT"];n=Me.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xf.g(),this.v=this.o?yI(this.o):yI(Xf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){HI(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ZN,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GI(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){HI(this,S)}};function HI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,zI(a),Eu(a)}function zI(a){a.A||(a.A=!0,gt(a,"complete"),gt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,gt(this,"complete"),gt(this,"abort"),Eu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),Me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qI(this):this.bb())},n.bb=function(){qI(this)};function qI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Un(a)!=4||a.Z()!=2)){if(a.u&&Un(a)==4)fI(a.Ea,0,a);else if(gt(a,"readystatechange"),Un(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(a.D).match(OI)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!YN.test(C?C.toLowerCase():"")}f=g}if(f)gt(a,"complete"),gt(a,"success");else{a.m=6;try{var S=2<Un(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",zI(a)}}finally{Eu(a)}}}}function Eu(a,d){if(a.g){GI(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||gt(a,"ready");try{f.onreadystatechange=g}catch{}}}function GI(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Un(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),RN(d)}};function WI(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function JN(a){let d={};a=(a.g&&2<=Un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(ie(a[g]))continue;var f=D(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function KI(a){this.Aa=0,this.i=[],this.j=new Ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,a),this.cb=na("retryDelaySeedMs",1e4,a),this.Wa=na("forwardChannelMaxRetries",2,a),this.wa=na("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new RI(a&&a.concurrentRequestLimit),this.Da=new KN,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=KI.prototype,n.la=8,n.G=1,n.connect=function(a,d,f,g){mt(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=rw(this,null,this.W),wu(this)};function ap(a){if(QI(a),a.G==3){var d=a.U++,f=jn(a.I);if(Te(f,"SID",a.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),ra(a,f),d=new pr(a,a.j,d),d.L=2,d.v=vu(jn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=iw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),gu(d)}nw(a)}function Iu(a){a.g&&(up(a),a.g.cancel(),a.g=null)}function QI(a){Iu(a),a.u&&(c.clearTimeout(a.u),a.u=null),Du(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function wu(a){if(!NI(a.h)&&!a.s){a.s=!0;var d=a.Ga;Us||aI(),Bs||(Us(),Bs=!0),Uf.add(d,a),a.B=0}}function XN(a,d){return MI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ws(m(a.Ga,a,d),tw(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new pr(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ZI(this,C,d),f=jn(this.I),Te(f,"RID",a),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),ra(this,f),S&&(this.O?d="headers="+encodeURIComponent(String($I(S)))+"&"+d:this.m&&sp(f,this.m,S)),op(this.h,C),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),C.T=!0,tp(C,f,null)):tp(C,f,d),this.G=2}}else this.G==3&&(a?YI(this,a):this.i.length==0||NI(this.h)||YI(this))};function YI(a,d){var f;d?f=d.l:f=a.U++;let g=jn(a.I);Te(g,"SID",a.K),Te(g,"RID",f),Te(g,"AID",a.T),ra(a,g),a.m&&a.o&&sp(g,a.m,a.o),f=new pr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=ZI(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),op(a.h,f),tp(f,g,d)}function ra(a,d){a.H&&ve(a.H,function(f,g){Te(d,g,f)}),a.l&&kI({},function(f,g){Te(d,g,f)})}function ZI(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=C[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let we=!0;for(let rt=0;rt<f;rt++){let ge=C[rt].g,ct=C[rt].map;if(ge-=S,0>ge)S=Math.max(0,C[rt].g-100),we=!1;else try{QN(ct,k,"req"+ge+"_")}catch{g&&g(ct)}}if(we){g=k.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function JI(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Us||aI(),Bs||(Us(),Bs=!0),Uf.add(d,a),a.v=0}}function cp(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ws(m(a.Fa,a),tw(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,XI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ws(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Iu(this),XI(this))};function up(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function XI(a){a.g=new pr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=jn(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),ra(a,d),a.m&&a.o&&sp(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=vu(jn(d)),f.m=null,f.P=!0,bI(f,a)}n.Za=function(){this.C!=null&&(this.C=null,Iu(this),cp(this),mt(19))};function Du(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function ew(a,d){var f=null;if(a.g==d){Du(a),up(a),a.g=null;var g=2}else if(ip(a.h,d))f=d.D,PI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=hu(),gt(g,new wI(g,f)),wu(a)}else JI(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&XN(a,d)||g==2&&cp(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),C){case 1:ri(a,5);break;case 4:ri(a,10);break;case 3:ri(a,6);break;default:ri(a,2)}}}function tw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function ri(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let C=!g;g=new ni(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mu(g,"https"),vu(g),C?GN(g.toString(),f):WN(g.toString(),f)}else mt(2);a.G=0,a.l&&a.l.sa(d),nw(a),QI(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function nw(a){if(a.G=0,a.ka=[],a.l){let d=xI(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function rw(a,d,f){var g=f instanceof ni?jn(f):new ni(f);if(g.g!="")d&&(g.g=d+"."+g.g),yu(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new ni(null);g&&mu(S,g),d&&(S.g=d),C&&yu(S,C),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&Te(g,f,d),Te(g,"VER",a.la),ra(a,g),g}function iw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Me(new Xs({eb:f})):new Me(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ow(){}n=ow.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cu(){}Cu.prototype.g=function(a,d){return new Rt(a,d)};function Rt(a,d){at.call(this),this.g=new KI(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!ie(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ie(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new oo(this)}A(Rt,at),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){ap(this.g)},Rt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Qf(a),a=f);d.i.push(new FN(d.Ya++,a)),d.G==3&&wu(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,ap(this.g),delete this.g,Rt.aa.N.call(this)};function sw(a){Zf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(sw,Zf);function aw(){Jf.call(this),this.status=1}A(aw,Jf);function oo(a){this.g=a}A(oo,ow),oo.prototype.ua=function(){gt(this.g,"a")},oo.prototype.ta=function(a){gt(this.g,new sw(a))},oo.prototype.sa=function(a){gt(this.g,new aw)},oo.prototype.ra=function(){gt(this.g,"b")},Cu.prototype.createWebChannel=Cu.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,qv=ar.createWebChannelTransport=function(){return new Cu},zv=ar.getStatEventTarget=function(){return hu()},Hv=ar.Event=ei,Oh=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fu.NO_ERROR=0,fu.TIMEOUT=8,fu.HTTP_ERROR=6,kc=ar.ErrorCode=fu,DI.COMPLETE="complete",$v=ar.EventType=DI,vI.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",at.prototype.listen=at.prototype.K,us=ar.WebChannel=vI,sU=ar.FetchXmlHttpFactory=Xs,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Bv=ar.XhrIo=Me}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});var TS="@firebase/firestore",bS="4.7.17";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var Ps="11.9.0";var Xi=new Mn("@firebase/firestore");function ls(){return Xi.logLevel}function L(n,...e){if(Xi.logLevel<=ce.DEBUG){let t=e.map(NE);Xi.debug(`Firestore (${Ps}): ${n}`,...t)}}function ur(n,...e){if(Xi.logLevel<=ce.ERROR){let t=e.map(NE);Xi.error(`Firestore (${Ps}): ${n}`,...t)}}function _s(n,...e){if(Xi.logLevel<=ce.WARN){let t=e.map(NE);Xi.warn(`Firestore (${Ps}): ${n}`,...t)}}function NE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,yA(n,r,t)}function yA(n,e,t){let r=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ur(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||yA(e,i,r)}function fe(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Wt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var $h=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tt.UNAUTHENTICATED))}shutdown(){}},Jv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Xv=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new $h(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new tt(e)}},e_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},t_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new e_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Hh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},n_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function aU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function vA(){return new TextEncoder}var r_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=aU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function i_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=vA(),s=cU(o.encode(SS(n,t)),o.encode(SS(e,t)));return s!==0?s:ae(r,i)}}t+=r>65535?2:1}return ae(n.length,e.length)}function SS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cU(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ae(n[t],e[t]);return ae(n.length,e.length)}function Es(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var AS=-62135596800,RS=1e6,Qt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*RS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AS)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RS}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-AS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Qt(0,0))}static max(){return new n(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var NS="__name__",zh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):i_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}},ze=class n extends zh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},uU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fn=class n extends zh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return uU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NS}static keyField(){return new n([NS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(ze.fromString(e))}static fromName(e){return new n(ze.fromString(e).popFirst(5))}static empty(){return new n(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ze(e.slice()))}};var Bc=-1,o_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};o_.UNKNOWN_ID=-1;function lU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Qt(t+1,0):new Qt(t,r));return new eo(i,G.empty(),e)}function dU(n){return new eo(n.readTime,n.key,Bc)}var eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),G.empty(),Bc)}static max(){return new n(ee.max(),G.empty(),Bc)}};function hU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var fU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",s_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _f(n){return b(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==fU)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function pU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xs(n){return n.name==="IndexedDbTransactionError"}var ME=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),gU=-1;function Ef(n){return n==null}function qh(n){return n===0&&1/n==-1/0}var _A="";function mU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=MS(e)),e=yU(n.get(t),e);return MS(e)}function yU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case _A:t+="";break;default:t+=o}}return t}function MS(n){return n+_A+""}var vU="remoteDocuments",EA="owner";var IA="mutationQueues";var wA="mutations";var DA="documentMutations",_U="remoteDocumentsV14";var CA="remoteDocumentGlobal";var TA="targets";var bA="targetDocuments";var SA="targetGlobal",AA="collectionParents";var RA="clientMetadata";var NA="bundles";var MA="namedQueries";var EU="indexConfiguration";var IU="indexState";var wU="indexEntries";var PA="documentOverlays";var DU="globals";var CU=[IA,wA,DA,vU,TA,EA,SA,bA,RA,CA,AA,NA,MA],ene=[...CU,PA],TU=[IA,wA,DA,_U,TA,EA,SA,bA,RA,CA,AA,NA,MA,PA],bU=TU,SU=[...bU,EU,IU,wU];var tne=[...SU,DU];function PS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AU(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var nt=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gh(this.data.getIterator())}getIteratorFrom(e){return new Gh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Gh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qi=class n{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new n([])}unionWith(e){let t=new nt(fn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Wh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Wh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var RU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=RU.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function dr(n){return typeof n=="string"?ft.fromBase64String(n):ft.fromUint8Array(n)}var xA="server_timestamp",kA="__type__",OA="__previous_value__",FA="__local_write_time__";function PE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kA])===null||t===void 0?void 0:t.stringValue)===xA}function If(n){let e=n.mapValue.fields[OA];return PE(e)?If(e):e}function $c(n){let e=lr(n.mapValue.fields[FA].timestampValue);return new Qt(e.seconds,e.nanos)}var a_=class{constructor(e,t,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Kh="(default)",Qh=class n{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var LA="__type__",VA="__max__",Fh={mapValue:{fields:{__type__:{stringValue:VA}}}},jA="__vector__",Hc="value";function Yr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PE(n)?4:BA(n)?9007199254740991:UA(n)?10:11:Q(28295,{value:n})}function On(n,e){if(n===e)return!0;let t=Yr(n);if(t!==Yr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $c(n).isEqual($c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=lr(i.timestampValue),c=lr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return dr(i.bytesValue).isEqual(dr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),c=Re(o.doubleValue);return s===c?qh(s)===qh(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Es(n.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(PS(s)!==PS(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!On(s[u],c[u])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function zc(n,e){return(n.values||[]).find(t=>On(t,e))!==void 0}function Is(n,e){if(n===e)return 0;let t=Yr(n),r=Yr(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return xS(n.timestampValue,e.timestampValue);case 4:return xS($c(n),$c(e));case 5:return i_(n.stringValue,e.stringValue);case 6:return function(o,s){let c=dr(o),u=dr(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=ae(c[l],u[l]);if(h!==0)return h}return ae(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ae(Re(o.latitude),Re(s.latitude));return c!==0?c:ae(Re(o.longitude),Re(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return kS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[Hc])===null||c===void 0?void 0:c.arrayValue,A=(u=m[Hc])===null||u===void 0?void 0:u.arrayValue,P=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:kS(y,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Fh.mapValue&&s===Fh.mapValue)return 0;if(o===Fh.mapValue)return 1;if(s===Fh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=i_(u[p],h[p]);if(m!==0)return m;let y=Is(c[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{Pe:t})}}function xS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=lr(n),r=lr(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function kS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Is(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function ws(n){return c_(n)}function c_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=lr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return dr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=c_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${c_(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function jh(n){switch(Yr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=If(n);return e?16+jh(e):16;case 5:return 2*n.stringValue.length;case 6:return dr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+jh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return tu(r.fields,(o,s)=>{i+=o.length+jh(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function u_(n){return!!n&&"integerValue"in n}function xE(n){return!!n&&"arrayValue"in n}function OS(n){return!!n&&"nullValue"in n}function FS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gv(n){return!!n&&"mapValue"in n}function UA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[LA])===null||t===void 0?void 0:t.stringValue)===jA}function Fc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return tu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}var rne={mapValue:{fields:{[LA]:{stringValue:jA},[Hc]:{arrayValue:{}}}}};var cr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=fn.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Fc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Gv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){tu(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Fc(this.value))}};var pn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),cr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ds=class{constructor(e,t){this.position=e,this.inclusive=t}};function LS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=Is(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!On(n.position[t],e.position[t]))return!1;return!0}var Cs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function NU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yh=class{},Qe=class n extends Yh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new d_(e,t,r):t==="array-contains"?new p_(e,r):t==="in"?new g_(e,r):t==="not-in"?new m_(e,r):t==="array-contains-any"?new y_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new h_(e,r):new f_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Is(t,this.value)):t!==null&&Yr(this.value)===Yr(t)&&this.matchesComparison(Is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class n extends Yh{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return $A(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function $A(n){return n.op==="and"}function HA(n){return MU(n)&&$A(n)}function MU(n){for(let e of n.filters)if(e instanceof Fn)return!1;return!0}function l_(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+ws(n.value);if(HA(n))return n.filters.map(e=>l_(e)).join(",");{let e=n.filters.map(t=>l_(t)).join(",");return`${n.op}(${e})`}}function zA(n,e){return n instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(n,e):n instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&zA(s,i.filters[c]),!0):!1}(n,e):void Q(19439)}function qA(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${ws(t.value)}`}(n):n instanceof Fn?function(t){return t.op.toString()+" {"+t.getFilters().map(qA).join(" ,")+"}"}(n):"Filter"}var d_=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},h_=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=GA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},f_=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=GA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function GA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var p_=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xE(t)&&zc(t.arrayValue,this.value)}},g_=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zc(this.value.arrayValue,t)}},m_=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zc(this.value.arrayValue,t)}},y_=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zc(this.value.arrayValue,r))}};var v_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Ie=null}};function jS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new v_(n,e,t,r,i,o,s)}function kE(n){let e=fe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>l_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ws(r)).join(",")),e.Ie=t}return e.Ie}function OE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VS(n.startAt,e.startAt)&&VS(n.endAt,e.endAt)}function __(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ts=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function PU(n,e,t,r,i,o,s,c){return new Ts(n,e,t,r,i,o,s,c)}function FE(n){return new Ts(n)}function US(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xU(n){return n.collectionGroup!==null}function Lc(n){let e=fe(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new nt(fn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Cs(o,r))}),t.has(fn.keyField().canonicalString())||e.Ee.push(new Cs(fn.keyField(),r))}return e.Ee}function kn(n){let e=fe(n);return e.de||(e.de=kU(e,Lc(n))),e.de}function kU(n,e){if(n.limitType==="F")return jS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Cs(i.field,o)});let t=n.endAt?new Ds(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ds(n.startAt.position,n.startAt.inclusive):null;return jS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function E_(n,e,t){return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wf(n,e){return OE(kn(n),kn(e))&&n.limitType===e.limitType}function WA(n){return`${kE(kn(n))}|lt:${n.limitType}`}function ds(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qA(i)).join(", ")}]`),Ef(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ws(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ws(i)).join(",")),`Target(${r})`}(kn(n))}; limitType=${n.limitType})`}function Df(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=LS(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Lc(r),i)||r.endAt&&!function(s,c,u){let l=LS(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Lc(r),i))}(n,e)}function OU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KA(n){return(e,t)=>{let r=!1;for(let i of Lc(n)){let o=FU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FU(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Is(u,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var hr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AU(this.inner)}size(){return this.innerSize}};var LU=new Ve(G.comparator);function Zr(){return LU}var QA=new Ve(G.comparator);function Oc(...n){let e=QA;for(let t of n)e=e.insert(t.key,t);return e}function VU(n){let e=QA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yi(){return Vc()}function YA(){return Vc()}function Vc(){return new hr(n=>n.toString(),(n,e)=>n.isEqual(e))}var ine=new Ve(G.comparator),jU=new nt(G.comparator);function pe(...n){let e=jU;for(let t of n)e=e.add(t);return e}var UU=new nt(ae);function BU(){return UU}function $U(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function HU(n){return{integerValue:""+n}}var bs=class{constructor(){this._=void 0}};function zU(n,e,t){return n instanceof qc?function(i,o){let s={fields:{[kA]:{stringValue:xA},[FA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&PE(o)&&(o=If(o)),o&&(s.fields[OA]=o),{mapValue:s}}(t,e):n instanceof Ss?ZA(n,e):n instanceof As?JA(n,e):function(i,o){let s=GU(i,o),c=BS(s)+BS(i.Re);return u_(s)&&u_(i.Re)?HU(c):$U(i.serializer,c)}(n,e)}function qU(n,e,t){return n instanceof Ss?ZA(n,e):n instanceof As?JA(n,e):t}function GU(n,e){return n instanceof Gc?function(r){return u_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qc=class extends bs{},Ss=class extends bs{constructor(e){super(),this.elements=e}};function ZA(n,e){let t=XA(e);for(let r of n.elements)t.some(i=>On(i,r))||t.push(r);return{arrayValue:{values:t}}}var As=class extends bs{constructor(e){super(),this.elements=e}};function JA(n,e){let t=XA(e);for(let r of n.elements)t=t.filter(i=>!On(i,r));return{arrayValue:{values:t}}}var Gc=class extends bs{constructor(e,t){super(),this.serializer=e,this.Re=t}};function BS(n){return Re(n.integerValue||n.doubleValue)}function XA(n){return xE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ss&&i instanceof Ss||r instanceof As&&i instanceof As?Es(r.elements,i.elements,On):r instanceof Gc&&i instanceof Gc?On(r.Re,i.Re):r instanceof qc&&i instanceof qc}(n.transform,e.transform)}var jc=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Uh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Wc=class{};function eR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new I_(n.key,jc.none()):new Kc(n.key,n.data,jc.none());{let t=n.data,r=cr.empty(),i=new nt(fn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Rs(n.key,r,new Qi(i.toArray()),jc.none())}}function KU(n,e,t){n instanceof Kc?function(i,o,s){let c=i.value.clone(),u=HS(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Rs?function(i,o,s){if(!Uh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=HS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(tR(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Uc(n,e,t,r){return n instanceof Kc?function(o,s,c,u){if(!Uh(o.precondition,s))return c;let l=o.value.clone(),h=zS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Rs?function(o,s,c,u){if(!Uh(o.precondition,s))return c;let l=zS(o.fieldTransforms,u,s),h=s.data;return h.setAll(tR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,c){return Uh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function $S(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Es(r,i,(o,s)=>WU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Kc=class extends Wc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Rs=class extends Wc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function tR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function HS(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,qU(s,c,t[i]))}return r}function zS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,zU(o,s,e))}return r}var I_=class extends Wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var w_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&KU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Uc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=YA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=eR(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(t,r)=>$S(t,r))&&Es(this.baseMutations,e.baseMutations,(t,r)=>$S(t,r))}};var D_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var C_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $e,he;function nR(n){if(n===void 0)return ur("GRPC error has no .code"),O.UNKNOWN;switch(n){case $e.OK:return O.OK;case $e.CANCELLED:return O.CANCELLED;case $e.UNKNOWN:return O.UNKNOWN;case $e.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case $e.INTERNAL:return O.INTERNAL;case $e.UNAVAILABLE:return O.UNAVAILABLE;case $e.UNAUTHENTICATED:return O.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case $e.NOT_FOUND:return O.NOT_FOUND;case $e.ALREADY_EXISTS:return O.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return O.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case $e.ABORTED:return O.ABORTED;case $e.OUT_OF_RANGE:return O.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return O.UNIMPLEMENTED;case $e.DATA_LOSS:return O.DATA_LOSS;default:return Q(39323,{code:n})}}(he=$e||($e={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var qS=null;var QU=new sr([4294967295,4294967295],0);function GS(n){let e=vA().encode(n),t=new Uv;return t.update(e),new Uint8Array(t.digest())}function WS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sr([t,r],0),new sr([i,o],0)]}var T_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zi(`Invalid padding: ${t}`);if(r<0)throw new Zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zi(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=sr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(sr.fromNumber(r)));return i.compare(QU)===1&&(i=new sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=GS(e),[r,i]=WS(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.pe===0)return;let t=GS(e),[r,i]=WS(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Zi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Ve(ae),Zr(),pe())}},Qc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var gs=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Jh=class{constructor(e,t){this.targetId=e,this.Ce=t}},Xh=class{constructor(e,t,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ef=class{constructor(){this.Fe=0,this.Me=KS(),this.xe=ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),t=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Qc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=KS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ne(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},b_=class{constructor(e){this.ze=e,this.je=new Map,this.He=Zr(),this.Je=Lh(),this.Ye=Lh(),this.Ze=new Ve(ae)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(__(o))if(r===0){let s=new G(o.path);this.tt(t,s,pn.newNoDocument(s,ee.min()))}else Ne(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let c=this.ct(e),u=c?this.lt(c,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}qS?.ht(function(h,p,m,y,A){var P,N,F,ie,te,Ie;let pt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(pt.bloomFilter={applied:A===0,hashCount:(P=ve?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(ie=(F=(N=ve?.bits)===null||N===void 0?void 0:N.bitmap)===null||F===void 0?void 0:F.length)!==null&&ie!==void 0?ie:0,padding:(Ie=(te=ve?.bits)===null||te===void 0?void 0:te.padding)!==null&&Ie!==void 0?Ie:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),pt}(s,e.Ce,this.ze.Pt(),c,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=dr(r).toUint8Array()}catch(u){if(u instanceof Wh)return _s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new T_(s,i,o)}catch(u){return _s(u instanceof Zi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let c=this._t(s);if(c){if(o.current&&__(c.target)){let u=new G(c.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,pn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Zh(e,t,this.Ze,this.He,r);return this.He=Zr(),this.Je=Lh(),this.Ye=Lh(),this.Ze=new Ve(ae),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ef,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new nt(ae),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new nt(ae),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ef),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Lh(){return new Ve(G.comparator)}function KS(){return new Ve(G.comparator)}var YU={asc:"ASCENDING",desc:"DESCENDING"},ZU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JU={and:"AND",or:"OR"},S_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function A_(n,e){return n.useProto3Json||Ef(e)?e:{value:e}}function XU(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ms(n){return Ne(!!n,49232),ee.fromTimestamp(function(t){let r=lr(t);return new Qt(r.seconds,r.nanos)}(n))}function tB(n,e){return R_(n,e).canonicalString()}function R_(n,e){let t=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rR(n){let e=ze.fromString(n);return Ne(cR(e),10190,{key:e.toString()}),e}function Wv(n,e){let t=rR(e);if(t.get(1)!==n.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(oR(t))}function iR(n,e){return tB(n.databaseId,e)}function nB(n){let e=rR(n);return e.length===4?ze.emptyPath():oR(e)}function QS(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oR(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rB(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),ft.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?O.UNKNOWN:nR(l.code);return new H(h,l.message||"")}(s);t=new Xh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wv(n,r.document.name),o=ms(r.document.updateTime),s=r.document.createTime?ms(r.document.createTime):ee.min(),c=new cr({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];t=new gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wv(n,r.document),o=r.readTime?ms(r.readTime):ee.min(),s=pn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new gs([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wv(n,r.document),o=r.removedTargetIds||[];t=new gs([],o,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new C_(i,o),c=r.targetId;t=new Jh(c,s)}}return t}function iB(n,e){return{documents:[iR(n,e.path)]}}function oB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iR(n,i);let o=function(l){if(l.length!==0)return aR(Fn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:hs(m.field),direction:cB(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=A_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function sB(n){let e=nB(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=sR(p);return m instanceof Fn&&HA(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(A){return new Cs(fs(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(t.orderBy));let c=null;t.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,Ef(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Ds(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Ds(y,m)}(t.endAt)),PU(e,i,s,o,c,"F",u,l)}function aB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fs(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fs(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=fs(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fs(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(fs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fn.create(t.compositeFilter.filters.map(r=>sR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function cB(n){return YU[n]}function uB(n){return ZU[n]}function lB(n){return JU[n]}function hs(n){return{fieldPath:n.canonicalString()}}function fs(n){return fn.fromServerFormat(n.fieldPath)}function aR(n){return n instanceof Qe?function(t){if(t.op==="=="){if(FS(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NAN"}};if(OS(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FS(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NAN"}};if(OS(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(t.field),op:uB(t.op),value:t.value}}}(n):n instanceof Fn?function(t){let r=t.getFilters().map(i=>aR(i));return r.length===1?r[0]:{compositeFilter:{op:lB(t.op),filters:r}}}(n):Q(54877,{filter:n})}function cR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Yc=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),c=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var N_=class{constructor(e){this.wt=e}};function dB(n){let e=sB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?E_(e,e.limit,"L"):e}var tf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),qh(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=lr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(dr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?BA(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):UA(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Q(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Hc,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Re(c)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),G.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};tf.Wt=new tf;var M_=class{constructor(){this.Cn=new P_}addToCollectionParentIndex(e,t){return this.Cn.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(eo.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},P_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new nt(ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(ze.comparator)).toArray()}};var one=new Uint8Array(0);var YS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uR=41943040,Kt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(uR,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);var Zc=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var ZS="LruGarbageCollector",hB=1048576;function JS([n,e],[t,r]){let i=ae(n,t);return i===0?ae(e,r):i}var x_=class{constructor(e){this.Er=e,this.buffer=new nt(JS),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();JS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},k_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){L(ZS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){xs(t)?L(ZS,"Ignoring IndexedDB error during garbage collection: ",t):yield _f(t)}yield this.mr(3e5)}))}},O_=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return M.resolve(ME.le);let r=new x_(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(YS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ls()<=ce.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function fB(n,e){return new O_(n,e)}var F_=class{constructor(){this.changes=new hr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var L_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var V_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Uc(r.mutation,i,Qi.empty(),Qt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=Yi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Oc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Yi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=Zr(),s=Vc(),c=function(){return Vc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Rs)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Uc(h.mutation,l,h.mutation.getFieldMask(),Qt.now())):s.set(l.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return c.set(l,new L_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Vc(),i=new Ve((s,c)=>s-c),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Qi.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||pe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=YA();h.forEach(m=>{if(!o.has(m)){let y=eR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):M.resolve(Yi()),c=Bc,u=o;return s.next(l=>M.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:c,changes:VU(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Oc();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=function(p,m){return new Ts(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let c=Oc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Uc(h.mutation,l,Qi.empty(),Qt.now()),Df(t,l)&&(c=c.insert(u,l))}),c})}};var j_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return M.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ms(i.createTime)}}(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:dB(i.bundledQuery),readTime:ms(i.readTime)}}(t)),M.resolve()}};var U_=class{constructor(){this.overlays=new Ve(G.comparator),this.Qr=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Yi();return M.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=Yi(),o=t.length+1,s=new G(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Yi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Yi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return M.resolve(c)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new D_(t,r));let o=this.Qr.get(t);o===void 0&&(o=pe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var B_=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var Jc=class{constructor(){this.$r=new nt(He.Ur),this.Kr=new nt(He.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new He(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new He(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new G(new ze([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new G(new ze([])),r=new He(t,e),i=new He(t,e+1),o=pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return G.comparator(e.key,t.key)||ae(e.Zr,t.Zr)}static Wr(e,t){return ae(e.Zr,t.Zr)||G.comparator(e.key,t.key)}};var $_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new nt(He.Ur)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new w_(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Xr=this.Xr.add(new He(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,t){return M.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?gU:this.nr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let c=this.ei(s.Zr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nt(ae);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],c=>{r=r.add(c.Zr)})}),M.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new He(new G(o),0),c=new nt(ae);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Zr)),!0)},s),M.resolve(this.ni(c))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return M.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new He(t,0),i=this.Xr.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var H_=class{constructor(e){this.ii=e,this.docs=function(){return new Ve(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Zr(),s=t.path,c=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||hU(dU(h),r)<=0||(i.has(h.key)||Df(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}si(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new z_(this)}getSize(e){return M.resolve(this.size)}},z_=class extends F_{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var q_=class{constructor(e){this.persistence=e,this.oi=new hr(t=>kE(t),OE),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this._i=0,this.ai=new Jc,this.targetCount=0,this.ui=Zc.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),M.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Zc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.Tr(t),M.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.ai.containsKey(t))}};var nf=class{constructor(e,t){this.ci={},this.overlays={},this.li=new ME(0),this.hi=!1,this.hi=!0,this.Pi=new B_,this.referenceDelegate=e(this),this.Ti=new q_(this),this.indexManager=new M_,this.remoteDocumentCache=function(i){return new H_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new N_(t),this.Ei=new j_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new $_(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new G_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return M.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},G_=class extends s_{constructor(e){super(),this.currentSequenceNumber=e}},W_=class n{constructor(e){this.persistence=e,this.Vi=new Jc,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw Q(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),M.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.gi,r=>{let i=G.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return M.or([()=>M.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},rf=class n{constructor(e,t){this.persistence=e,this.yi=new hr(r=>mU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fB(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return M.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return M.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?M.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),M.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),M.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}Dr(e,t,r){return M.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var K_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Q_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Y_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return A0()?8:pU(jt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Q_;return this.Ss(e,t,s).next(c=>{if(o.result=c,this.fs)return this.Ds(e,t,s,c.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ls()<=ce.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),M.resolve()):(ls()<=ce.DEBUG&&L("QueryEngine","Query:",ds(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ls()<=ce.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(t))):M.resolve())}ws(e,t){if(US(t))return M.resolve(null);let r=kn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=E_(t,null,"F"),r=kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.ys.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,c);return this.Cs(t,l,s,u.readTime)?this.ws(e,E_(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return US(t)||i.isEqual(ee.min())?M.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?M.resolve(null):(ls()<=ce.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ds(t)),this.Fs(e,s,t,lU(i,Bc)).next(c=>c))})}vs(e,t){let r=new nt(KA(e));return t.forEach((i,o)=>{Df(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ls()<=ce.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ds(t)),this.ys.getDocumentsMatchingQuery(e,t,eo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var LE="LocalStore",pB=3e8,Z_=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ve(ae),this.Os=new hr(o=>kE(o),OE),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V_(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function gB(n,e,t,r){return new Z_(n,e,t,r)}function lR(n,e){return b(this,null,function*(){let t=fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:c}))})})})}function dR(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function mB(n,e){let t=fe(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,N,F){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=pB?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&c.push(t.Ti.updateTargetData(o,y))});let u=Zr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(yB(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(ee.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function yB(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Zr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(LE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function vB(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Yc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function J_(n,e,t){return b(this,null,function*(){let r=fe(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!xs(s))throw s;L(LE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function XS(n,e,t){let r=fe(n),i=ee.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=fe(u),m=p.Os.get(h);return m!==void 0?M.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,kn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:pe())).next(c=>(_B(r,OU(e),c),{documents:c,$s:o})))}function _B(n,e,t){let r=n.Ns.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var of=class{constructor(){this.activeTargetIds=BU()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var X_=class{constructor(){this.xo=new of,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new of,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var eE=class{No(e){}shutdown(){}};var eA="ConnectivityMonitor",sf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){L(eA,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){L(eA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vh=null;function tE(){return Vh===null?Vh=function(){return 268435456+Math.round(2147483648*Math.random())}():Vh++,"0x"+Vh.toString(16)}var Kv="RestConnection",EB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nE=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=tE(),c=this.jo(e,t.toUriEncodedString());L(Kv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(c),h=is(l);return this.Jo(e,c,u,r,h).then(p=>(L(Kv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw _s(Kv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=EB[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var rE=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ht="WebChannelConnection",iE=class extends nE{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=tE();return new Promise((c,u)=>{let l=new Bv;l.setWithCredentials(!0),l.listenOnce($v.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kc.NO_ERROR:let p=l.getResponseJson();L(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case kc.TIMEOUT:L(ht,`RPC '${e}' ${s} timed out`),u(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:let m=l.getStatus();if(L(ht,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let P=function(F){let ie=F.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(ie)>=0?ie:O.UNKNOWN}(A.status);u(new H(P,A.message))}else u(new H(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(O.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{L(ht,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(ht,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=tE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qv(),c=zv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(ht,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,A=new rE({Zo:N=>{y?L(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(L(ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ht,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Xo:()=>p.close()}),P=(N,F,ie)=>{N.listen(F,te=>{try{ie(te)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return P(p,us.EventType.OPEN,()=>{y||(L(ht,`RPC '${e}' stream ${i} transport opened.`),A.__())}),P(p,us.EventType.CLOSE,()=>{y||(y=!0,L(ht,`RPC '${e}' stream ${i} transport closed`),A.u_(),this.d_(p))}),P(p,us.EventType.ERROR,N=>{y||(y=!0,_s(ht,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.u_(new H(O.UNAVAILABLE,"The operation could not be completed")))}),P(p,us.EventType.MESSAGE,N=>{var F;if(!y){let ie=N.data[0];Ne(!!ie,16349);let te=ie,Ie=te?.error||((F=te[0])===null||F===void 0?void 0:F.error);if(Ie){L(ht,`RPC '${e}' stream ${i} received error:`,Ie);let pt=Ie.status,ve=function(E){let I=$e[E];if(I!==void 0)return nR(I)}(pt),w=Ie.message;ve===void 0&&(ve=O.INTERNAL,w="Unknown error status: "+pt+" with message "+Ie.message),y=!0,A.u_(new H(ve,w)),p.close()}else L(ht,`RPC '${e}' stream ${i} received:`,ie),A.c_(ie)}}),P(c,Hv.STAT_EVENT,N=>{N.stat===Oh.PROXY?L(ht,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Oh.NOPROXY&&L(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function Qv(){return typeof document<"u"?document:null}function hR(n){return new S_(n,!0)}var af=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var tA="PersistentStream",oE=class{constructor(e,t,r,i,o,s,c,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new af(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return b(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return b(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return b(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>b(this,null,function*(){this.state=0,this.start()}))}j_(e){return L(tA,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(L(tA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sE=class extends oE{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=rB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?ms(s.readTime):ee.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=QS(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=__(u)?{documents:iB(o,u)}:{query:oB(o,u).gt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=eB(o,s.resumeToken);let l=A_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=XU(o,s.snapshotVersion.toTimestamp());let l=A_(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=aB(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=QS(this.serializer),t.removeTarget=e,this.Q_(t)}};var aE=class{},cE=class extends aE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,R_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Yo(e,R_(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},uE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ur(t),this.ua=!1):L("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Ns="RemoteStore",lE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>b(this,null,function*(){ru(this)&&(L(Ns,"Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let l=fe(u);l.da.add(4),yield nu(l),l.Va.set("Unknown"),l.da.delete(4),yield Cf(l)})}(this))}))}),this.Va=new uE(r,i)}};function Cf(n){return b(this,null,function*(){if(ru(n))for(let e of n.Aa)yield e(!0)})}function nu(n){return b(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function fR(n,e){let t=fe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),BE(t)?UE(t):ks(t).N_()&&jE(t,e))}function VE(n,e){let t=fe(n),r=ks(t);t.Ea.delete(e),r.N_()&&pR(t,e),t.Ea.size===0&&(r.N_()?r.k_():ru(t)&&t.Va.set("Unknown"))}function jE(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ks(n).Z_(e)}function pR(n,e){n.ma.Ke(e),ks(n).X_(e)}function UE(n){n.ma=new b_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ks(n).start(),n.Va.ca()}function BE(n){return ru(n)&&!ks(n).O_()&&n.Ea.size>0}function ru(n){return fe(n).da.size===0}function gR(n){n.ma=void 0}function IB(n){return b(this,null,function*(){n.Va.set("Online")})}function wB(n){return b(this,null,function*(){n.Ea.forEach((e,t)=>{jE(n,e)})})}function DB(n,e){return b(this,null,function*(){gR(n),BE(n)?(n.Va.Pa(e),UE(n)):n.Va.set("Unknown")})}function CB(n,e,t){return b(this,null,function*(){if(n.Va.set("Online"),e instanceof Xh&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ea.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ea.delete(c),i.ma.removeTarget(c))})}(n,e)}catch(r){L(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nA(n,r)}else if(e instanceof gs?n.ma.Xe(e):e instanceof Jh?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ee.min()))try{let r=yield dR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.ma.It(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),pR(o,u);let p=new Yc(h.target,u,l,h.sequenceNumber);jE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){L(Ns,"Failed to raise snapshot:",r),yield nA(n,r)}})}function nA(n,e,t){return b(this,null,function*(){if(!xs(e))throw e;n.da.add(1),yield nu(n),n.Va.set("Offline"),t||(t=()=>dR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){L(Ns,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Cf(n)}))})}function rA(n,e){return b(this,null,function*(){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),L(Ns,"RemoteStore received new credentials");let r=ru(t);t.da.add(3),yield nu(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Cf(t)})}function TB(n,e){return b(this,null,function*(){let t=fe(n);e?(t.da.delete(2),yield Cf(t)):e||(t.da.add(2),yield nu(t),t.Va.set("Unknown"))})}function ks(n){return n.fa||(n.fa=function(t,r,i){let o=fe(t);return o.oa(),new sE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:IB.bind(null,n),n_:wB.bind(null,n),i_:DB.bind(null,n),Y_:CB.bind(null,n)}),n.Aa.push(e=>b(null,null,function*(){e?(n.fa.L_(),BE(n)?UE(n):n.Va.set("Unknown")):(yield n.fa.stop(),gR(n))}))),n.fa}var dE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mR(n,e){if(ur("AsyncQueue",`${e}: ${n}`),xs(n))return new H(O.UNAVAILABLE,`${e}: ${n}`);throw n}var cf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=Oc(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var uf=class{constructor(){this.pa=new Ve(G.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ms=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,cf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var hE=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},fE=class{constructor(){this.queries=iA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=fe(t),o=i.queries;i.queries=iA(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new H(O.ABORTED,"Firestore shutting down"))}};function iA(){return new hr(n=>WA(n),wf)}function bB(n,e){return b(this,null,function*(){let t=fe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new hE,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=mR(s,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&$E(t)})}function SB(n,e){return b(this,null,function*(){let t=fe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function AB(n,e){let t=fe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.Sa)c.Ma(i)&&(r=!0);s.ba=i}}r&&$E(t)}function RB(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function $E(n){n.Ca.forEach(e=>{e.next()})}var pE,oA;(oA=pE||(pE={})).xa="default",oA.Cache="cache";var gE=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==pE.Cache}};var lf=class{constructor(e){this.key=e}},df=class{constructor(e){this.key=e}},mE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.Za=KA(e),this.Xa=new cf(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new uf,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Df(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?A!==P&&(r.track({type:3,doc:y}),N=!0):this.ru(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(c=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:c,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,A){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:N})}};return P(y)-P(A)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let c=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Ms(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new uf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=pe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new df(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new lf(r))}),t}au(e){this.Ha=e.$s,this.Ya=pe();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ms.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},HE="SyncEngine",yE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},vE=class{constructor(e){this.key=e,this.cu=!1}},_E=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new hr(c=>WA(c),wf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ve(G.comparator),this.Eu=new Map,this.du=new Jc,this.Au={},this.Ru=new Map,this.Vu=Zc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function NB(n,e,t=!0){return b(this,null,function*(){let r=IR(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield yR(r,e,t,!0),i})}function MB(n,e){return b(this,null,function*(){let t=IR(n);yield yR(t,e,!0,!1)})}function yR(n,e,t,r){return b(this,null,function*(){let i=yield vB(n.localStore,kn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield PB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&fR(n.remoteStore,i),c})}function PB(n,e,t,r,i){return b(this,null,function*(){n.fu=(p,m,y)=>function(P,N,F,ie){return b(this,null,function*(){let te=N.view.tu(F);te.Cs&&(te=yield XS(P.localStore,N.query,!1).then(({documents:w})=>N.view.tu(w,te)));let Ie=ie&&ie.targetChanges.get(N.targetId),pt=ie&&ie.targetMismatches.get(N.targetId)!=null,ve=N.view.applyChanges(te,P.isPrimaryClient,Ie,pt);return aA(P,N.targetId,ve.ou),ve.snapshot})}(n,p,m,y);let o=yield XS(n.localStore,e,!0),s=new mE(e,o.$s),c=s.tu(o.documents),u=Qc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);aA(n,t,l.ou);let h=new yE(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function xB(n,e,t){return b(this,null,function*(){let r=fe(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!wf(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield J_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&VE(r.remoteStore,i.targetId),EE(r,i.targetId)}).catch(_f))):(EE(r,i.targetId),yield J_(r.localStore,i.targetId,!0))})}function kB(n,e){return b(this,null,function*(){let t=fe(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),VE(t.remoteStore,r.targetId))})}function vR(n,e){return b(this,null,function*(){let t=fe(n);try{let r=yield mB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Ne(s.cu,14607):i.removedDocuments.size>0&&(Ne(s.cu,42227),s.cu=!1))}),yield ER(t,r,e)}catch(r){yield _f(r)}})}function sA(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let c=s.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=fe(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(c)&&(l=!0)}),l&&$E(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function OB(n,e,t){return b(this,null,function*(){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(G.comparator);s=s.insert(o,pn.newNoDocument(o,ee.min()));let c=pe().add(o),u=new Zh(ee.min(),new Map,new Ve(ae),s,c);yield vR(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),zE(r)}else yield J_(r.localStore,e,!1).then(()=>EE(r,e,t)).catch(_f)})}function EE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||_R(n,r)})}function _R(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(VE(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),zE(n))}function aA(n,e,t){for(let r of t)r instanceof lf?(n.du.addReference(r.key,e),FB(n,r)):r instanceof df?(L(HE,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||_R(n,r.key)):Q(19791,{pu:r})}function FB(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(L(HE,"New document in limbo: "+t),n.Tu.add(r),zE(n))}function zE(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new G(ze.fromString(e)),r=n.Vu.next();n.Eu.set(r,new vE(t)),n.Iu=n.Iu.insert(t,r),fR(n.remoteStore,new Yc(kn(FE(t.path)),r,"TargetPurposeLimboResolution",ME.le))}}function ER(n,e,t){return b(this,null,function*(){let r=fe(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((c,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=K_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return b(this,null,function*(){let h=fe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!xs(p))throw p;L(LE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),A=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(A);h.xs=h.xs.insert(m,P)}}})}(r.localStore,o))})}function LB(n,e){return b(this,null,function*(){let t=fe(n);if(!t.currentUser.isEqual(e)){L(HE,"User change. New user:",e.toKey());let r=yield lR(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(c=>{c.forEach(u=>{u.reject(new H(O.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ER(t,r.ks)}})}function VB(n,e){let t=fe(n),r=t.Eu.get(e);if(r&&r.cu)return pe().add(r.key);{let i=pe(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let c=t.hu.get(s);i=i.unionWith(c.view.eu)}return i}}function IR(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OB.bind(null,e),e.lu.Y_=AB.bind(null,e.eventManager),e.lu.gu=RB.bind(null,e.eventManager),e}var wR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=hR(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return gB(this.persistence,new Y_,t.initialUser,this.serializer)}Su(t){return new nf(W_.fi,this.serializer)}bu(t){return new X_}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),IE=class extends wR{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ne(this.persistence.referenceDelegate instanceof rf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new k_(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new nf(r=>rf.fi(r,t),this.serializer)}};var jB=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LB.bind(null,this.syncEngine),yield TB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new fE}()}createDatastore(t){let r=hR(t.databaseInfo.databaseId),i=function(s){return new iE(s)}(t.databaseInfo);return function(s,c,u,l){return new cE(s,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,c,u){return new lE(i,o,s,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>sA(this.syncEngine,r,0),function(){return sf.C()?new sf:new eE}())}createSyncEngine(t,r){return function(o,s,c,u,l,h,p){let m=new _E(o,s,c,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=fe(o);L(Ns,"RemoteStore shutting down."),s.da.add(5),yield nu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var wE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Jr="FirestoreClient",DE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=r_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){L(Jr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(Jr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=mR(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Yv(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L(Jr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield lR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function cA(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield UB(n);L(Jr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>rA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>rA(e.remoteStore,i)),n._onlineComponents=e})}function UB(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(Jr,"Using user provided OfflineComponentProvider");try{yield Yv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;_s("Error using user provided cache. Falling back to memory cache: "+t),yield Yv(n,new wR)}}else L(Jr,"Using default OfflineComponentProvider"),yield Yv(n,new IE(void 0));return n._offlineComponents})}function BB(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(Jr,"Using user provided OnlineComponentProvider"),yield cA(n,n._uninitializedComponentsProvider._online)):(L(Jr,"Using default OnlineComponentProvider"),yield cA(n,new jB))),n._onlineComponents})}function uA(n){return b(this,null,function*(){let e=yield BB(n),t=e.eventManager;return t.onListen=NB.bind(null,e.syncEngine),t.onUnlisten=xB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kB.bind(null,e.syncEngine),t})}function DR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var lA=new Map;function $B(n,e,t){if(!t)throw new H(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HB(n,e,t,r){if(e===!0&&r===!0)throw new H(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dA(n){if(G.isDocumentKey(n))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zB(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function Bh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=zB(n);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var CR="firestore.googleapis.com",hA=!0,hf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CR,this.ssl=hA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hB)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zv;switch(r.type){case"firstParty":return new t_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=lA.get(t);r&&(L("ComponentProvider","Removing Datastore"),lA.delete(t),r.terminate())}(this),Promise.resolve()}};function TR(n,e,t,r={}){var i;n=Bh(n,Xc);let o=is(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(tv(`https://${u}`),nv("Firestore",!0)),s.host!==CR&&s.host!==u&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Ui(l,c)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=tt.MOCK_USER;else{h=D0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tt(m)}n._authCredentials=new Jv(new $h(h,p))}}var ff=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},to=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ys=class n extends ff{constructor(e,t,r){super(e,t,FE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new to(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function bR(n,e,...t){if(n=rr(n),$B("collection","path",e),n instanceof Xc){let r=ze.fromString(e,...t);return dA(r),new ys(n,null,r)}{if(!(n instanceof to||n instanceof ys))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return dA(r),new ys(n.firestore,null,r)}}var fA="AsyncQueue",pf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new af(this,"async_queue_retry"),this.rc=()=>{let r=Qv();r&&L(fA,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=Qv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=Qv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Qr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return b(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!xs(e))throw e;L(fA,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ur("INTERNAL UNHANDLED ERROR: ",pA(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=dE.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Q(47125,{cc:pA(this.Xu)})}verifyOperationInProgress(){}lc(){return b(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function pA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function gA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var eu=class extends Xc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pf(e),this._firestoreClient=void 0,yield e}})}};function SR(n,e){let t=typeof n=="object"?n:ss(),r=typeof n=="string"?n:e||Kh,i=mh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=I0("firestore");o&&TR(i,...o)}return i}function qB(n){if(n._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GB(n),n._firestoreClient}function GB(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,h){return new a_(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new DE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var CE=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ft.fromBase64String(e))}catch(t){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var TE=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var bE=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var WB=new RegExp("[~\\*/\\[\\]]");function KB(n,e,t){if(e.search(WB)>=0)throw mA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw mA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mA(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(O.INVALID_ARGUMENT,c+n+u)}var mf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new to(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new SE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(AR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},SE=class extends mf{data(){return super.data()}};function AR(n,e){return typeof e=="string"?KB(n,e):e instanceof gf?e._internalPath:e._delegate._internalPath}function QB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AE=class{convertValue(e,t="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return tu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Hc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new bE(o)}convertGeoPoint(e){return new TE(Re(e.latitude),Re(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=If(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){let t=lr(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ze.fromString(e);Ne(cR(r),9688,{name:e});let i=new Qh(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Ji=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yf=class extends mf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(AR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},vs=class extends yf{data(e={}){return super.data(e)}},RE=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ji(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vs(this._firestore,this._userDataWriter,r.key,r,new Ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new vs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ji(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new vs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ji(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:YB(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function YB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}var vf=class extends AE{constructor(e){super(),this.firestore=e}convertBytes(e){return new CE(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new to(this.firestore,null,t)}};function qE(n,...e){var t,r,i;n=rr(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gA(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof to)l=Bh(n.firestore,eu),h=FE(n._key.path),u={next:p=>{e[s]&&e[s](ZB(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Bh(n,ff);l=Bh(p.firestore,eu),h=p._query;let m=new vf(l);u={next:y=>{e[s]&&e[s](new RE(l,m,p,y))},error:e[s+1],complete:e[s+2]},QB(n._query)}return function(m,y,A,P){let N=new wE(P),F=new gE(y,N,A);return m.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return bB(yield uA(m),F)})),()=>{N.xu(),m.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return SB(yield uA(m),F)}))}}(qB(l),h,c,u)}function ZB(n,e,t){let r=t.docs.get(e._key),i=new vf(n);return new yf(n,i,e._key,r,new Ji(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ps=i})(os),dn(new Dt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new eu(new Xv(r.getProvider("auth-internal")),new n_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Le(TS,bS,e),Le(TS,bS,"esm2017")})();var Tf=function(){return Tf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tf.apply(this,arguments)};var e$={includeMetadataChanges:!1};function RR(n,e){return e===void 0&&(e=e$),new J(function(t){var r=qE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function NR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Tf(Tf({},r),(t={},t[e.idField]=n.id,t))}function MR(n){return RR(n,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function PR(n,e){return e===void 0&&(e={}),MR(n).pipe(se(function(t){return t.map(function(r){return NR(r,e)})}))}var no=class{constructor(e){return e}},xR="firestore",GE=class{constructor(){return cs(xR)}};var WE=new U("angularfire2.firestore-instances");function t$(n,e){let t=_h(xR,n,e);return t&&new no(t)}function n$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new no(r)}}var r$={provide:GE,deps:[[new wn,WE]]},i$={provide:no,useFactory:t$,deps:[[new wn,WE],qi]};function kR(n,...e){return Le("angularfire",Hi.full,"fst"),Qn([i$,r$,{provide:WE,useFactory:n$(n),multi:!0,deps:[Ee,Ue,zi,Sc,[new wn,xh],[new wn,Ih],...e]}])}var OR=Gr(PR,!0);var FR=Gr(bR,!0,2);var LR=Gr(SR,!0);var bf=class n{constructor(e){this.firestore=e}getProjects(){let e=FR(this.firestore,"projects");return OR(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(q(no))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function a$(n,e){if(n&1&&It(0,"app-project-card",2),n&2){let t=e.$implicit;be("project",t)}}var Sf=class n{constructor(e){this.projectService=e;this.projectService.getProjects().subscribe(t=>{this.projects=t})}projects=[];static \u0275fac=function(t){return new(t||n)(re(bf))};static \u0275cmp=We({type:n,selectors:[["app-projects"]],decls:4,vars:1,consts:[[1,"projects"],[3,"project",4,"ngFor","ngForOf"],[3,"project"]],template:function(t,r){t&1&&($(0,"section",0)(1,"h2"),K(2,"Projects"),B(),dt(3,a$,1,1,"app-project-card",1),B()),t&2&&(Ae(3),be("ngForOf",r.projects))},dependencies:[jr,zo,lh],styles:[".projects[_ngcontent-%COMP%]{padding:2.5rem;background:#232946;border-radius:18px;box-shadow:0 4px 24px #1a29802e;margin:2rem auto;max-width:800px}.projects[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:gold;font-size:2.3rem;margin-bottom:1.5rem;font-weight:800;text-align:center;letter-spacing:1px;text-shadow:1px 1px 8px #000a}.project[_ngcontent-%COMP%]{background:linear-gradient(90deg,#232946,#181c2f);padding:1.5rem 1.2rem;margin-bottom:1.5rem;border-left:5px solid #ff6600;border-radius:12px;box-shadow:0 2px 12px #00000021;transition:transform .2s,box-shadow .2s;position:relative}.project[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 6px 24px #ffd60021;border-left:5px solid #ffd700}.project[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f60;margin-bottom:.6rem;font-size:1.35rem;font-weight:700;letter-spacing:.5px}.project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e0e0e0;font-size:1.08rem;line-height:1.6}"]})};var GR=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(re(Jn),re(Ot))};static \u0275dir=Xe({type:n})}return n})(),c$=(()=>{class n extends GR{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Lo(n)))(i||n)}})();static \u0275dir=Xe({type:n,features:[er]})}return n})(),WR=new U("");var u$={provide:WR,useExisting:Cr(()=>Lf),multi:!0};function l$(){let n=Gt()?Gt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var d$=new U(""),Lf=(()=>{class n extends GR{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!l$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(re(Jn),re(Ot),re(d$,8))};static \u0275dir=Xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&tr("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ga([u$]),er]})}return n})();function XE(n){return n==null||eI(n)===0}function eI(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var KR=new U(""),QR=new U(""),h$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ln=class{static min(e){return f$(e)}static max(e){return p$(e)}static required(e){return g$(e)}static requiredTrue(e){return m$(e)}static email(e){return y$(e)}static minLength(e){return v$(e)}static maxLength(e){return _$(e)}static pattern(e){return E$(e)}static nullValidator(e){return YR()}static compose(e){return nN(e)}static composeAsync(e){return iN(e)}};function f$(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function p$(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function g$(n){return XE(n.value)?{required:!0}:null}function m$(n){return n.value===!0?null:{required:!0}}function y$(n){return XE(n.value)||h$.test(n.value)?null:{email:!0}}function v$(n){return e=>{let t=e.value?.length??eI(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function _$(n){return e=>{let t=e.value?.length??eI(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function E$(n){if(!n)return YR;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(XE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function YR(n){return null}function ZR(n){return n!=null}function JR(n){return Fr(n)?Ce(n):n}function XR(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function eN(n,e){return e.map(t=>t(n))}function I$(n){return!n.validate}function tN(n){return n.map(e=>I$(e)?e:t=>e.validate(t))}function nN(n){if(!n)return null;let e=n.filter(ZR);return e.length==0?null:function(t){return XR(eN(t,e))}}function rN(n){return n!=null?nN(tN(n)):null}function iN(n){if(!n)return null;let e=n.filter(ZR);return e.length==0?null:function(t){let r=eN(t,e).map(JR);return Pp(r).pipe(se(XR))}}function oN(n){return n!=null?iN(tN(n)):null}function VR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sN(n){return n._rawValidators}function aN(n){return n._rawAsyncValidators}function KE(n){return n?Array.isArray(n)?n:[n]:[]}function Nf(n,e){return Array.isArray(n)?n.includes(e):n===e}function jR(n,e){let t=KE(e);return KE(n).forEach(i=>{Nf(t,i)||t.push(i)}),t}function UR(n,e){return KE(e).filter(t=>!Nf(n,t))}var Mf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ls=class extends Mf{name;get formDirective(){return null}get path(){return null}},cu=class extends Mf{_parent=null;name=null;valueAccessor=null},Pf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},w$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Zre=Y(x({},w$),{"[class.ng-submitted]":"isSubmitted"}),cN=(()=>{class n extends Pf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(re(cu,2))};static \u0275dir=Xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[er]})}return n})(),uN=(()=>{class n extends Pf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(re(Ls,10))};static \u0275dir=Xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[er]})}return n})();var iu="VALID",Af="INVALID",Os="PENDING",ou="DISABLED",Xr=class{},xf=class extends Xr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},su=class extends Xr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},au=class extends Xr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Fs=class extends Xr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},QE=class extends Xr{source;constructor(e){super(),this.source=e}},YE=class extends Xr{source;constructor(e){super(),this.source=e}};function tI(n){return(Vf(n)?n.validators:n)||null}function D$(n){return Array.isArray(n)?rN(n):n||null}function nI(n,e){return(Vf(e)?e.asyncValidators:n)||null}function C$(n){return Array.isArray(n)?oN(n):n||null}function Vf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function lN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function dN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Vs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qt(this.statusReactive)}set status(e){qt(()=>this.statusReactive.set(e))}_status=$o(()=>this.statusReactive());statusReactive=_n(void 0);get valid(){return this.status===iu}get invalid(){return this.status===Af}get pending(){return this.status==Os}get disabled(){return this.status===ou}get enabled(){return this.status!==ou}errors;get pristine(){return qt(this.pristineReactive)}set pristine(e){qt(()=>this.pristineReactive.set(e))}_pristine=$o(()=>this.pristineReactive());pristineReactive=_n(!0);get dirty(){return!this.pristine}get touched(){return qt(this.touchedReactive)}set touched(e){qt(()=>this.touchedReactive.set(e))}_touched=$o(()=>this.touchedReactive());touchedReactive=_n(!1);get untouched(){return!this.touched}_events=new xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UR(e,this._rawAsyncValidators))}hasValidator(e){return Nf(this._rawValidators,e)}hasAsyncValidator(e){return Nf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Y(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new au(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new au(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Y(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new su(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new su(!0,r))}markAsPending(e={}){this.status=Os;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Y(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ou,this.errors=null,this._forEachChild(i=>{i.disable(Y(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xf(this.value,r)),this._events.next(new Fs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=iu,this._forEachChild(r=>{r.enable(Y(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===iu||this.status===Os)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xf(this.value,t)),this._events.next(new Fs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Y(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ou:iu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Os,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=JR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ou:this.errors?Af:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Os)?Os:this._anyControlsHaveStatus(Af)?Af:iu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new su(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new au(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=D$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=C$(this._rawAsyncValidators)}},kf=class extends Vs{constructor(e,t,r){super(tI(t),nI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){dN(this,!0,e),Object.keys(e).forEach(r=>{lN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ZE=class extends kf{};var hN=new U("",{providedIn:"root",factory:()=>rI}),rI="always";function T$(n,e){return[...e.path,n]}function BR(n,e,t=rI){iI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),S$(n,e),R$(n,e),A$(n,e),b$(n,e)}function $R(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ff(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Of(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function b$(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function iI(n,e){let t=sN(n);e.validator!==null?n.setValidators(VR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=aN(n);e.asyncValidator!==null?n.setAsyncValidators(VR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Of(e._rawValidators,i),Of(e._rawAsyncValidators,i)}function Ff(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=sN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=aN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Of(e._rawValidators,r),Of(e._rawAsyncValidators,r),t}function S$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&fN(n,e)})}function A$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&fN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function fN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function R$(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function N$(n,e){n==null,iI(n,e)}function M$(n,e){return Ff(n,e)}function P$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function x$(n){return Object.getPrototypeOf(n.constructor)===c$}function k$(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function O$(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Lf?t=o:x$(o)?r=o:i=o}),i||r||t||null}function F$(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Rf=class extends Vs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(tI(t),nI(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var L$=n=>n instanceof Rf;var pN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var gN=new U("");var V$={provide:Ls,useExisting:Cr(()=>oI)},oI=(()=>{class n extends Ls{callSetDisabledState;get submitted(){return qt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=$o(()=>this._submittedReactive());_submittedReactive=_n(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Fe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ff(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return BR(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$R(t.control||null,t,!1),F$(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),k$(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new QE(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new YE(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&($R(r||null,t),L$(i)&&(BR(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);N$(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&M$(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iI(this.form,this),this._oldForm&&Ff(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(re(KR,10),re(QR,10),re(hN,8))};static \u0275dir=Xe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&tr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ga([V$]),er,Dn]})}return n})();var j$={provide:cu,useExisting:Cr(()=>sI)},sI=(()=>{class n extends cu{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=O$(this,o)}ngOnChanges(t){this._added||this._setUpControl(),P$(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return T$(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(re(Ls,13),re(KR,10),re(QR,10),re(WR,10),re(gN,8))};static \u0275dir=Xe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ga([j$]),er,Dn]})}return n})();var U$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=Xt({})}return n})(),JE=class extends Vs{constructor(e,t,r){super(tI(t),nI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){dN(this,!1,e),e.forEach((r,i)=>{lN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qR(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var mN=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return qR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new kf(i,o)}record(t,r=null){let i=this._reduceControls(t);return new ZE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(qR(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rf(t,Y(x({},o),{nonNullable:!0}))):new Rf(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new JE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Rf)return t;if(t instanceof Vs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:hN,useValue:t.callSetDisabledState??rI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Cn({type:n});static \u0275inj=Xt({imports:[U$]})}return n})();function $$(n,e){n&1&&($(0,"div"),K(1,"Full Name is required."),B())}function H$(n,e){n&1&&($(0,"div"),K(1,"Full Name must be at least 2 characters."),B())}function z$(n,e){if(n&1&&($(0,"div",13),dt(1,$$,2,0,"div",14)(2,H$,2,0,"div",14),B()),n&2){let t=Tn();Ae(),be("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.required),Ae(),be("ngIf",t.fullName==null||t.fullName.errors==null?null:t.fullName.errors.minlength)}}function q$(n,e){n&1&&($(0,"div"),K(1,"Email is required."),B())}function G$(n,e){n&1&&($(0,"div"),K(1,"Please enter a valid email address."),B())}function W$(n,e){if(n&1&&($(0,"div",13),dt(1,q$,2,0,"div",14)(2,G$,2,0,"div",14),B()),n&2){let t=Tn();Ae(),be("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),Ae(),be("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.email)}}function K$(n,e){n&1&&($(0,"div"),K(1,"Subject is required."),B())}function Q$(n,e){if(n&1&&($(0,"div",13),dt(1,K$,2,0,"div",14),B()),n&2){let t=Tn();Ae(),be("ngIf",t.subject==null||t.subject.errors==null?null:t.subject.errors.required)}}function Y$(n,e){n&1&&($(0,"div"),K(1,"Message is required."),B())}function Z$(n,e){n&1&&($(0,"div"),K(1,"Message must be at least 10 characters."),B())}function J$(n,e){if(n&1&&($(0,"div",13),dt(1,Y$,2,0,"div",14)(2,Z$,2,0,"div",14),B()),n&2){let t=Tn();Ae(),be("ngIf",t.message==null||t.message.errors==null?null:t.message.errors.required),Ae(),be("ngIf",t.message==null||t.message.errors==null?null:t.message.errors.minlength)}}var jf=class n{constructor(e){this.fb=e;this.contactForm=this.fb.group({fullName:["",[Ln.required,Ln.minLength(2)]],email:["",[Ln.required,Ln.email]],subject:["",[Ln.required]],message:["",[Ln.required,Ln.minLength(10)]]})}contactForm;get fullName(){return this.contactForm.get("fullName")}get email(){return this.contactForm.get("email")}get subject(){return this.contactForm.get("subject")}get message(){return this.contactForm.get("message")}onSubmit(){this.contactForm.valid?(alert("Thank you for contacting me! Your message has been sent."),this.contactForm.reset()):this.contactForm.markAllAsTouched()}static \u0275fac=function(t){return new(t||n)(re(mN))};static \u0275cmp=We({type:n,selectors:[["app-contact"]],decls:30,vars:5,consts:[[1,"contact"],["href","mailto:kagokebonye@gmail.com"],["novalidate","",3,"ngSubmit","formGroup"],["for","fullName"],["id","fullName","formControlName","fullName","type","text"],["class","error",4,"ngIf"],["for","email"],["id","email","formControlName","email","type","email"],["for","subject"],["id","subject","formControlName","subject","type","text"],["for","message"],["id","message","formControlName","message","rows","5"],["type","submit"],[1,"error"],[4,"ngIf"]],template:function(t,r){t&1&&($(0,"section",0)(1,"h2"),K(2,"Contact Me"),B(),$(3,"p"),K(4," You can reach me at "),$(5,"a",1),K(6,"kagokebonye@gmail.com"),B()(),$(7,"form",2),tr("ngSubmit",function(){return r.onSubmit()}),$(8,"div")(9,"label",3),K(10,"Full Name"),B(),It(11,"input",4),dt(12,z$,3,2,"div",5),B(),$(13,"div")(14,"label",6),K(15,"Email"),B(),It(16,"input",7),dt(17,W$,3,2,"div",5),B(),$(18,"div")(19,"label",8),K(20,"Subject"),B(),It(21,"input",9),dt(22,Q$,2,1,"div",5),B(),$(23,"div")(24,"label",10),K(25,"Message"),B(),It(26,"textarea",11),dt(27,J$,3,2,"div",5),B(),$(28,"button",12),K(29,"Send"),B()()()),t&2&&(Ae(7),be("formGroup",r.contactForm),Ae(5),be("ngIf",(r.fullName==null?null:r.fullName.invalid)&&((r.fullName==null?null:r.fullName.dirty)||(r.fullName==null?null:r.fullName.touched))),Ae(5),be("ngIf",(r.email==null?null:r.email.invalid)&&((r.email==null?null:r.email.dirty)||(r.email==null?null:r.email.touched))),Ae(5),be("ngIf",(r.subject==null?null:r.subject.invalid)&&((r.subject==null?null:r.subject.dirty)||(r.subject==null?null:r.subject.touched))),Ae(5),be("ngIf",(r.message==null?null:r.message.invalid)&&((r.message==null?null:r.message.dirty)||(r.message==null?null:r.message.touched))))},dependencies:[yN,pN,Lf,cN,uN,oI,sI,jr,Ya],styles:[".contact[_ngcontent-%COMP%]{padding:2.5rem;background:#232946;border-radius:16px;box-shadow:0 4px 24px #1a29801a;margin:2rem auto;max-width:600px;text-align:center}.contact[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#26d0ce;font-size:2rem;margin-bottom:1.2rem;font-weight:700}.contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e0e0e0;font-size:1.1rem;text-decoration:none}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gold;text-decoration:underline}form[_ngcontent-%COMP%]{max-width:500px;margin:2rem auto;padding:2rem 2.5rem;background:#18181b;border-radius:12px;box-shadow:0 4px 24px #00000080;display:flex;flex-direction:column;gap:1.5rem}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem;display:block;color:#e0e7ef;letter-spacing:.02em}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:1px solid #27272a;border-radius:6px;font-size:1rem;background:#23232a;color:#e0e7ef;transition:border-color .2s,background .2s}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#6366f1;outline:none;background:#18181b}.error[_ngcontent-%COMP%]{color:#f87171;font-size:.95rem;margin-top:.25rem}button[type=submit][_ngcontent-%COMP%]{background:linear-gradient(90deg,#6366f1,#2563eb);color:#fff;border:none;padding:.85rem 0;border-radius:6px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s,box-shadow .2s;margin-top:.5rem;box-shadow:0 2px 8px #6366f126}button[type=submit][_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#818cf8,#1d4ed8);box-shadow:0 4px 16px #6366f140}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:1rem}}"]})};var vN=[{path:"",component:ah},{path:"about",component:ch},{path:"skills",component:uh},{path:"projects",component:Sf},{path:"contact",component:jf}];var _N={production:!1,firebase:{apiKey:"AIzaSyA3NmM7LMo4BLtYyjlW5j8XQrR6uy8Bz1s",authDomain:"spectrum-portfolio.firebaseapp.com",projectId:"spectrum-portfolio",storageBucket:"spectrum-portfolio.firebasestorage.app",messagingSenderId:"362087296319",appId:"1:362087296319:web:eeec47621297f97494b78a",measurementId:"G-4HW7VGCJ1C"}};_y(sh,{providers:[Ky(vN),K0(()=>Q0(_N.firebase)),kR(()=>LR())]});
